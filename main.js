(()=>{"use strict";function t(t,n){!function(t,o){const n=document.querySelectorAll(".nav__todo-lists")[0];n.querySelectorAll(".nav__todo-lists__li"),n.innerHTML="";for(var i=0;i<t.length;i++){const e=document.createElement("li");e.setAttribute("class","nav__todo-lists__li"),e.setAttribute("data-todo-list",`${i}`),e.textContent=`${t[i].name}`,t[i]==t[o]&&(e.style.fontWeight="bold"),n.appendChild(e)}e("Add new","nav__add-new",n)}(t,n),o(t,n),function(t){document.querySelectorAll(".main__delete")[0],0==t?(document.querySelectorAll(".main__delete")[0].classList.add("display-none"),document.querySelectorAll(".main__delete")[0].setAttribute("data-todo-list",`${t}`)):(document.querySelectorAll(".main__delete")[0].classList.remove("display-none"),document.querySelectorAll(".main__delete")[0].setAttribute("data-todo-list",`${t}`))}(n)}function e(t,o,n){const i=document.createElement("button");return i.setAttribute("class",o),i.textContent=`${t}`,n.appendChild(i),e}function o(t,e){n(".main__table__row"),n(".main__table__title__finished"),function(t,e){document.querySelectorAll(".main__top__title")[0].textContent=`${t[e].name}`}(t,e);for(var o=0;o<t[e].todos.length;o++)if(0==t[e].todos[o].finished){const n=document.querySelectorAll(".main__table")[0],i=document.createElement("li");i.setAttribute("class","main__table__row");const s=document.createElement("div");s.setAttribute("class","main__table__column-0");const a=document.createElement("img");a.setAttribute("src","img/checkbox-blank.svg"),a.setAttribute("class","main__checkbox"),a.setAttribute("data-todo-list",`${e}`),a.setAttribute("data-todo",`${o}`);const d=document.createElement("div");d.textContent=`${t[e].todos[o].title}`,d.setAttribute("class","main__table__column-1"),d.setAttribute("data-todo-list",`${e}`),d.setAttribute("data-todo",`${o}`);const l=document.createElement("div");l.textContent=`${t[e].todos[o].dueDate}`,l.setAttribute("class","main__table__column-2"),l.setAttribute("data-todo-list",`${e}`),l.setAttribute("data-todo",`${o}`);const c=document.createElement("div");c.textContent=`${t[e].todos[o].priority}`,c.setAttribute("class","main__table__column-3"),c.setAttribute("data-todo-list",`${e}`),c.setAttribute("data-todo",`${o}`),n.appendChild(i),i.appendChild(s),s.appendChild(a),i.appendChild(d),i.appendChild(l),i.appendChild(c)}if(t[e].todos.some((t=>1==t.finished))){const t=document.querySelectorAll(".main__table")[0],e=document.createElement("p");e.classList.add("main__table__title__finished"),e.textContent="Finished:",t.appendChild(e)}for(o=0;o<t[e].todos.length;o++)if(1==t[e].todos[o].finished){const n=document.querySelectorAll(".main__table")[0],i=document.createElement("li");i.setAttribute("class","main__table__row"),i.classList.add("main__table__row--finished");const s=document.createElement("div");s.setAttribute("class","main__table__column-0");const a=document.createElement("img");a.setAttribute("src","img/checkbox.svg"),a.setAttribute("class","main__checkbox"),a.setAttribute("data-todo-list",`${e}`),a.setAttribute("data-todo",`${o}`);const d=document.createElement("div");d.textContent=`${t[e].todos[o].title}`,d.setAttribute("class","main__table__column-1"),d.setAttribute("data-todo-list",`${e}`),d.setAttribute("data-todo",`${o}`);const l=document.createElement("div");l.textContent=`${t[e].todos[o].dueDate}`,l.setAttribute("class","main__table__column-2"),l.setAttribute("data-todo-list",`${e}`),l.setAttribute("data-todo",`${o}`);const c=document.createElement("div");c.textContent=`${t[e].todos[o].priority}`,c.setAttribute("class","main__table__column-3"),c.setAttribute("data-todo-list",`${e}`),c.setAttribute("data-todo",`${o}`),n.appendChild(i),i.appendChild(s),s.appendChild(a),i.appendChild(d),i.appendChild(l),i.appendChild(c)}document.getElementById("table")}function n(t){document.querySelectorAll(t).forEach((t=>{t.remove()}))}class i{constructor(t){this.name=t,this.todos=[],s.push(this)}}const s=[];new i("Default JS"),new i("JS list 2");class a{constructor(t,e,o,n,i,a){this.title=t,this.description=e,this.dueDate=o,this.priority=n,this.notes=i,this.finished=!1,s[a].todos.push(this)}}new a("Title 1","Description","Due date","Priority","Notes",0),new a("Title 2","Description 2","Due date 2","Priority 2","Notes 2",0),new a("Title 3","Description 3","Due date 3","Priority 3","Notes 3",1),window.onload=function(){t(s,0)},document.getElementsByClassName("nav__todo-lists")[0].addEventListener("click",(e=>{if("LI"==e.target.nodeName){const o=e.target.getAttribute("data-todo-list");t(s,o)}})),document.getElementsByClassName("main__delete")[0].addEventListener("click",(e=>{const o=e.target.getAttribute("data-todo-list");confirm(`Are you sure you want to delete ${s[o].name}`)&&(s.splice(o),t(s,0))})),document.getElementsByClassName("main__table")[0].addEventListener("click",(function(t){if("main__checkbox"==t.target.classList.value){const e=t.target.attributes["data-todo-list"].value,n=t.target.attributes["data-todo"].value;!function(t,e,n){document.getElementsByClassName("main__checkbox")[n],document.getElementsByClassName("main__table__row")[n],0==t[e].todos[n].finished?t[e].todos[n].finished=!0:1==t[e].todos[n].finished&&(t[e].todos[n].finished=!1),o(t,e)}(s,e,n)}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsU0FBU0EsRUFBV0MsRUFBZUMsSUFPbkMsU0FBb0JELEVBQWVDLEdBQy9CLE1BQU1DLEVBQVdDLFNBQVNDLGlCQUFpQixvQkFBb0IsR0FDL0NGLEVBQVNFLGlCQUFpQix3QkFFMUNGLEVBQVNHLFVBQVksR0FFckIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlOLEVBQWNPLE9BQVFELElBQUssQ0FDM0MsTUFBTUUsRUFBVUwsU0FBU00sY0FBYyxNQUN2Q0QsRUFBUUUsYUFBYSxRQUFTLHVCQUM5QkYsRUFBUUUsYUFBYSxpQkFBaUIsR0FBR0osS0FDekNFLEVBQVFHLFlBQWMsR0FBR1gsRUFBY00sR0FBR00sT0FFdENaLEVBQWNNLElBQU1OLEVBQWNDLEtBQ2xDTyxFQUFRSyxNQUFNQyxXQUFhLFFBRy9CWixFQUFTYSxZQUFZUCxFQUN6QixDQUVKUSxFQUFVLFVBQVcsZUFBZ0JkLEVBQ3JDLENBMUJJZSxDQUFXakIsRUFBZUMsR0FDMUJpQixFQUFZbEIsRUFBZUMsR0FnSy9CLFNBQXlCQSxHQUNIRSxTQUFTQyxpQkFBaUIsaUJBQWlCLEdBRTNDLEdBQWRILEdBQ0FFLFNBQVNDLGlCQUFpQixpQkFBaUIsR0FBR2UsVUFBVUMsSUFBSSxnQkFDNURqQixTQUFTQyxpQkFBaUIsaUJBQWlCLEdBQUdNLGFBQWEsaUJBQWlCLEdBQUdULE9BSS9FRSxTQUFTQyxpQkFBaUIsaUJBQWlCLEdBQUdlLFVBQVVFLE9BQU8sZ0JBQy9EbEIsU0FBU0MsaUJBQWlCLGlCQUFpQixHQUFHTSxhQUFhLGlCQUFpQixHQUFHVCxLQUV2RixDQTNLSXFCLENBQWdCckIsRUFDcEIsQ0EwQkEsU0FBU2UsRUFBVU8sRUFBTUMsRUFBV0MsR0FDaEMsTUFBTUMsRUFBTXZCLFNBQVNNLGNBQWMsVUFLbkMsT0FKQWlCLEVBQUloQixhQUFhLFFBQVNjLEdBQzFCRSxFQUFJZixZQUFjLEdBQUdZLElBQ3JCRSxFQUFPVixZQUFZVyxHQUVaVixDQUNYLENBR0EsU0FBU0UsRUFBWWxCLEVBQWVDLEdBQ2hDMEIsRUFBZSxxQkFDZkEsRUFBZSxpQ0FrSG5CLFNBQXNCM0IsRUFBZUMsR0FDbkJFLFNBQVNDLGlCQUFpQixxQkFBcUIsR0FDdkRPLFlBQWMsR0FBR1gsRUFBY0MsR0FBWVcsTUFDckQsQ0FwSElnQixDQUFhNUIsRUFBZUMsR0FFNUIsSUFBSyxJQUFJSyxFQUFJLEVBQUdBLEVBQUlOLEVBQWNDLEdBQVk0QixNQUFNdEIsT0FBUUQsSUFFeEQsR0FBbUQsR0FBL0NOLEVBQWNDLEdBQVk0QixNQUFNdkIsR0FBR3dCLFNBQW1CLENBQ3RELE1BQU1DLEVBQVE1QixTQUFTQyxpQkFBaUIsZ0JBQWdCLEdBQ2xENEIsRUFBSzdCLFNBQVNNLGNBQWMsTUFDbEN1QixFQUFHdEIsYUFBYSxRQUFTLG9CQUV6QixNQUFNdUIsRUFBTzlCLFNBQVNNLGNBQWMsT0FDcEN3QixFQUFLdkIsYUFBYSxRQUFTLHlCQUUzQixNQUFNd0IsRUFBVy9CLFNBQVNNLGNBQWMsT0FDeEN5QixFQUFTeEIsYUFBYSxNQUFPLDBCQUM3QndCLEVBQVN4QixhQUFhLFFBQVMsa0JBQy9Cd0IsRUFBU3hCLGFBQWEsaUJBQWlCLEdBQUdULEtBQzFDaUMsRUFBU3hCLGFBQWEsWUFBWSxHQUFHSixLQUVyQyxNQUFNNkIsRUFBT2hDLFNBQVNNLGNBQWMsT0FDcEMwQixFQUFLeEIsWUFBYyxHQUFHWCxFQUFjQyxHQUFZNEIsTUFBTXZCLEdBQUc4QixRQUN6REQsRUFBS3pCLGFBQWEsUUFBUyx5QkFDM0J5QixFQUFLekIsYUFBYSxpQkFBaUIsR0FBR1QsS0FDdENrQyxFQUFLekIsYUFBYSxZQUFZLEdBQUdKLEtBRWpDLE1BQU0rQixFQUFPbEMsU0FBU00sY0FBYyxPQUNwQzRCLEVBQUsxQixZQUFjLEdBQUdYLEVBQWNDLEdBQVk0QixNQUFNdkIsR0FBR2dDLFVBQ3pERCxFQUFLM0IsYUFBYSxRQUFTLHlCQUMzQjJCLEVBQUszQixhQUFhLGlCQUFpQixHQUFHVCxLQUN0Q29DLEVBQUszQixhQUFhLFlBQVksR0FBR0osS0FFakMsTUFBTWlDLEVBQU9wQyxTQUFTTSxjQUFjLE9BQ3BDOEIsRUFBSzVCLFlBQWMsR0FBR1gsRUFBY0MsR0FBWTRCLE1BQU12QixHQUFHa0MsV0FDekRELEVBQUs3QixhQUFhLFFBQVMseUJBQzNCNkIsRUFBSzdCLGFBQWEsaUJBQWlCLEdBQUdULEtBQ3RDc0MsRUFBSzdCLGFBQWEsWUFBWSxHQUFHSixLQUVqQ3lCLEVBQU1oQixZQUFZaUIsR0FDbEJBLEVBQUdqQixZQUFZa0IsR0FDZkEsRUFBS2xCLFlBQVltQixHQUNqQkYsRUFBR2pCLFlBQVlvQixHQUNmSCxFQUFHakIsWUFBWXNCLEdBQ2ZMLEVBQUdqQixZQUFZd0IsRUFDZixDQUdKLEdBQUl2QyxFQUFjQyxHQUFZNEIsTUFBTVksTUFBS0MsR0FBbUIsR0FBZEEsRUFBRVosV0FBbUIsQ0FDL0QsTUFBTUMsRUFBUTVCLFNBQVNDLGlCQUFpQixnQkFBZ0IsR0FFbEQwQixFQUFXM0IsU0FBU00sY0FBYyxLQUN4Q3FCLEVBQVNYLFVBQVVDLElBQUksZ0NBQ3ZCVSxFQUFTbkIsWUFBYyxZQUV2Qm9CLEVBQU1oQixZQUFZZSxFQUN0QixDQUVKLElBQVN4QixFQUFJLEVBQUdBLEVBQUlOLEVBQWNDLEdBQVk0QixNQUFNdEIsT0FBUUQsSUFFeEQsR0FBbUQsR0FBL0NOLEVBQWNDLEdBQVk0QixNQUFNdkIsR0FBR3dCLFNBQWtCLENBQ3JELE1BQU1DLEVBQVE1QixTQUFTQyxpQkFBaUIsZ0JBQWdCLEdBRWxENEIsRUFBSzdCLFNBQVNNLGNBQWMsTUFDbEN1QixFQUFHdEIsYUFBYSxRQUFTLG9CQUN6QnNCLEVBQUdiLFVBQVVDLElBQUksOEJBRWpCLE1BQU1hLEVBQU85QixTQUFTTSxjQUFjLE9BQ3BDd0IsRUFBS3ZCLGFBQWEsUUFBUyx5QkFFM0IsTUFBTXdCLEVBQVcvQixTQUFTTSxjQUFjLE9BQ3hDeUIsRUFBU3hCLGFBQWEsTUFBTyxvQkFDN0J3QixFQUFTeEIsYUFBYSxRQUFTLGtCQUMvQndCLEVBQVN4QixhQUFhLGlCQUFpQixHQUFHVCxLQUMxQ2lDLEVBQVN4QixhQUFhLFlBQVksR0FBR0osS0FFckMsTUFBTTZCLEVBQU9oQyxTQUFTTSxjQUFjLE9BQ3BDMEIsRUFBS3hCLFlBQWMsR0FBR1gsRUFBY0MsR0FBWTRCLE1BQU12QixHQUFHOEIsUUFDekRELEVBQUt6QixhQUFhLFFBQVMseUJBQzNCeUIsRUFBS3pCLGFBQWEsaUJBQWlCLEdBQUdULEtBQ3RDa0MsRUFBS3pCLGFBQWEsWUFBWSxHQUFHSixLQUVqQyxNQUFNK0IsRUFBT2xDLFNBQVNNLGNBQWMsT0FDcEM0QixFQUFLMUIsWUFBYyxHQUFHWCxFQUFjQyxHQUFZNEIsTUFBTXZCLEdBQUdnQyxVQUN6REQsRUFBSzNCLGFBQWEsUUFBUyx5QkFDM0IyQixFQUFLM0IsYUFBYSxpQkFBaUIsR0FBR1QsS0FDdENvQyxFQUFLM0IsYUFBYSxZQUFZLEdBQUdKLEtBRWpDLE1BQU1pQyxFQUFPcEMsU0FBU00sY0FBYyxPQUNwQzhCLEVBQUs1QixZQUFjLEdBQUdYLEVBQWNDLEdBQVk0QixNQUFNdkIsR0FBR2tDLFdBQ3pERCxFQUFLN0IsYUFBYSxRQUFTLHlCQUMzQjZCLEVBQUs3QixhQUFhLGlCQUFpQixHQUFHVCxLQUN0Q3NDLEVBQUs3QixhQUFhLFlBQVksR0FBR0osS0FFakN5QixFQUFNaEIsWUFBWWlCLEdBQ2xCQSxFQUFHakIsWUFBWWtCLEdBQ2ZBLEVBQUtsQixZQUFZbUIsR0FDakJGLEVBQUdqQixZQUFZb0IsR0FDZkgsRUFBR2pCLFlBQVlzQixHQUNmTCxFQUFHakIsWUFBWXdCLEVBQ25CLENBR09wQyxTQUFTd0MsZUFBZSxRQUN2QyxDQUdBLFNBQVNoQixFQUFlaUIsR0FDTnpDLFNBQVNDLGlCQUFpQndDLEdBRWxDQyxTQUFRRCxJQUNkQSxFQUFHdkIsUUFBUSxHQUVmLENDdkpBLE1BQU15QixFQUNGQyxZQUFZbkMsR0FDVm9DLEtBQUtwQyxLQUFPQSxFQUNab0MsS0FBS25CLE1BQVEsR0FDYjdCLEVBQWNpRCxLQUFLRCxLQUNyQixFQUlKLE1BQU1oRCxFQUFnQixHQUdGLElBQUk4QyxFQUFTLGNBQ2QsSUFBSUEsRUFBUyxhQUdoQyxNQUFNSSxFQUNGSCxZQUFZWCxFQUFPZSxFQUFhYixFQUFTRSxFQUFVWSxFQUFPbkQsR0FDdEQrQyxLQUFLWixNQUFRQSxFQUNiWSxLQUFLRyxZQUFjQSxFQUNuQkgsS0FBS1YsUUFBVUEsRUFDZlUsS0FBS1IsU0FBV0EsRUFDaEJRLEtBQUtJLE1BQVFBLEVBQ2JKLEtBQUtsQixVQUFXLEVBQ2hCOUIsRUFBY0MsR0FBWTRCLE1BQU1vQixLQUFLRCxLQUN6QyxFQUlXLElBQUlFLEVBQUssVUFBVyxjQUFlLFdBQVksV0FBWSxRQUFTLEdBQ3BFLElBQUlBLEVBQUssVUFBVyxnQkFBaUIsYUFBYyxhQUFjLFVBQVcsR0FDNUUsSUFBSUEsRUFBSyxVQUFXLGdCQUFpQixhQUFjLGFBQWMsVUFBVyxHQUczRkcsT0FBT0MsT0FBUyxXQUNadkQsRUFBV0MsRUFBZSxFQUM5QixFQUdBRyxTQUFTb0QsdUJBQXVCLG1CQUFtQixHQUFHQyxpQkFBaUIsU0FBVUMsSUFDN0UsR0FBNkIsTUFBekJBLEVBQU1DLE9BQU9DLFNBQWtCLENBQy9CLE1BQU0xRCxFQUFhd0QsRUFBTUMsT0FBT0UsYUFBYSxrQkFDN0M3RCxFQUFXQyxFQUFlQyxFQUM5QixDQUlDLElBSUxFLFNBQVNvRCx1QkFBdUIsZ0JBQWdCLEdBQUdDLGlCQUFpQixTQUFVQyxJQUMxRSxNQUFNeEQsRUFBYXdELEVBQU1DLE9BQU9FLGFBQWEsa0JBQ3pDQyxRQUFRLG1DQUFtQzdELEVBQWNDLEdBQVlXLFVBQ3JFWixFQUFjOEQsT0FBTzdELEdBQ3JCRixFQUFXQyxFQUFlLEdBQ3pCLElBSVRHLFNBQVNvRCx1QkFBdUIsZUFBZSxHQUFHQyxpQkFBaUIsU0FBUSxTQUFTQyxHQUNoRixHQUFvQyxrQkFBaENBLEVBQU1DLE9BQU92QyxVQUFVNEMsTUFBMEIsQ0FDakQsTUFBTTlELEVBQWF3RCxFQUFNQyxPQUFPTSxXQUFXLGtCQUFrQkQsTUFDdkRFLEVBQVNSLEVBQU1DLE9BQU9NLFdBQVcsYUFBYUQsT0RnSDVELFNBQXdCL0QsRUFBZUMsRUFBWWdFLEdBQzlCOUQsU0FBU29ELHVCQUF1QixrQkFBa0JVLEdBQzlDOUQsU0FBU29ELHVCQUF1QixvQkFBb0JVLEdBRWpCLEdBQXBEakUsRUFBY0MsR0FBWTRCLE1BQU1vQyxHQUFRbkMsU0FDeEM5QixFQUFjQyxHQUFZNEIsTUFBTW9DLEdBQVFuQyxVQUFXLEVBR00sR0FBcEQ5QixFQUFjQyxHQUFZNEIsTUFBTW9DLEdBQVFuQyxXQUM3QzlCLEVBQWNDLEdBQVk0QixNQUFNb0MsR0FBUW5DLFVBQVcsR0FHdkRaLEVBQVlsQixFQUFlQyxFQUMvQixDQzNIUWlFLENBQWVsRSxFQUFlQyxFQUFZZ0UsRUFDN0MsQ0FDSixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVmcmVzaCBhbGwgYmFzZWQgb24gdG9kbyBsaXN0cyBhbmQgdG9kb3NcbmZ1bmN0aW9uIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObykge1xuICAgIHJlZnJlc2hOYXYodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObylcbiAgICByZWZyZXNoTWFpbih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKTtcbiAgICBtb2RpZnlEZWxldGVCdG4odG9kb0xpc3RObyk7XG59O1xuXG4vLyByZWZyZXNoIG5hdlxuZnVuY3Rpb24gcmVmcmVzaE5hdih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKSB7XG4gICAgY29uc3QgcGFyZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9fdG9kby1saXN0c1wiKVswXTtcbiAgICBjb25zdCBjaGlsZEVsID0gcGFyZW50RWwucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX3RvZG8tbGlzdHNfX2xpXCIpXG5cbiAgICBwYXJlbnRFbC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2RvTGlzdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGNoaWxkRWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuYXZfX3RvZG8tbGlzdHNfX2xpXCIpO1xuICAgICAgICBjaGlsZEVsLnNldEF0dHJpYnV0ZShcImRhdGEtdG9kby1saXN0XCIsYCR7aX1gKTtcbiAgICAgICAgY2hpbGRFbC50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbaV0ubmFtZX1gO1xuXG4gICAgICAgIGlmICh0b2RvTGlzdEFycmF5W2ldID09IHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10pIHtcbiAgICAgICAgICAgIGNoaWxkRWwuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKGNoaWxkRWwpO1xuICAgIH07XG4gICAgXG5jcmVhdGVCdG4oXCJBZGQgbmV3XCIsIFwibmF2X19hZGQtbmV3XCIsIHBhcmVudEVsKVxufTtcblxuLy8gY3JlYXRlIGJ1dHRvbiBcbmZ1bmN0aW9uIGNyZWF0ZUJ0bih0ZXh0LCBjbGFzc05hbWUsIHBhcmVudCkge1xuICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnRuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNsYXNzTmFtZSk7XG4gICAgYnRuLnRleHRDb250ZW50ID0gYCR7dGV4dH1gO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChidG4pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUJ0bjtcbn07XG5cbi8vIGNyZWF0ZSB0b2RvIHRhYmxlXG5mdW5jdGlvbiByZWZyZXNoTWFpbih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKSB7XG4gICAgcmVtb3ZlRWxlbWVudHMoXCIubWFpbl9fdGFibGVfX3Jvd1wiKTsgXG4gICAgcmVtb3ZlRWxlbWVudHMoXCIubWFpbl9fdGFibGVfX3RpdGxlX19maW5pc2hlZFwiKVxuICAgIGFkZE1haW5UaXRsZSh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGlmIHRvZG8gaXMgbm90IGZpbmlzaGVkXG4gICAgICAgIGlmICh0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW2ldLmZpbmlzaGVkID09IGZhbHNlKSB7IFxuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3RhYmxlXCIpWzBdOyBcbiAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX190YWJsZV9fcm93XCIpXG5cbiAgICAgICAgICAgIGNvbnN0IGRpdjAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2MC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tMFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiaW1nL2NoZWNrYm94LWJsYW5rLnN2Z1wiKTtcbiAgICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fY2hlY2tib3hcIik7XG4gICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kby1saXN0YCxgJHt0b2RvTGlzdE5vfWApO1xuICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKGBkYXRhLXRvZG9gLGAke2l9YCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpdjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2MS50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbaV0udGl0bGV9YDtcbiAgICAgICAgICAgIGRpdjEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX190YWJsZV9fY29sdW1uLTFcIik7XG4gICAgICAgICAgICBkaXYxLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvLWxpc3RgLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgICAgICAgICBkaXYxLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHtpfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGRpdjIudGV4dENvbnRlbnQgPSBgJHt0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW2ldLmR1ZURhdGV9YDtcbiAgICAgICAgICAgIGRpdjIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX190YWJsZV9fY29sdW1uLTJcIik7XG4gICAgICAgICAgICBkaXYyLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvLWxpc3RgLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgICAgICAgICBkaXYyLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHtpfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkaXYzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGRpdjMudGV4dENvbnRlbnQgPSBgJHt0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW2ldLnByaW9yaXR5fWA7XG4gICAgICAgICAgICBkaXYzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fdGFibGVfX2NvbHVtbi0zXCIpO1xuICAgICAgICAgICAgZGl2My5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kby1saXN0YCxgJHt0b2RvTGlzdE5vfWApO1xuICAgICAgICAgICAgZGl2My5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2MCk7XG4gICAgICAgICAgICBkaXYwLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGRpdjEpO1xuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2Mik7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkaXYzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIGlmIG9uZSBvciBtb3JlIHRvZG9zIGFyZSBmaW5pc2hlZFxuICAgICAgICBpZiAodG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvcy5zb21lKGUgPT4gZS5maW5pc2hlZCA9PSB0cnVlKSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3RhYmxlXCIpWzBdOyBcblxuICAgICAgICAgICAgY29uc3QgZmluaXNoZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIGZpbmlzaGVkLmNsYXNzTGlzdC5hZGQoXCJtYWluX190YWJsZV9fdGl0bGVfX2ZpbmlzaGVkXCIpO1xuICAgICAgICAgICAgZmluaXNoZWQudGV4dENvbnRlbnQgPSBcIkZpbmlzaGVkOlwiO1xuXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChmaW5pc2hlZCk7XG4gICAgICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAvLyBpZiB0b2RvIGlzIG5vdCBmaW5pc2hlZFxuICAgICAgICBpZiAodG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS5maW5pc2hlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fdGFibGVcIilbMF07IFxuXG4gICAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fdGFibGVfX3Jvd1wiKTtcbiAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoXCJtYWluX190YWJsZV9fcm93LS1maW5pc2hlZFwiKTtcblxuICAgICAgICAgICAgY29uc3QgZGl2MCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fdGFibGVfX2NvbHVtbi0wXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJpbWcvY2hlY2tib3guc3ZnXCIpO1xuICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19jaGVja2JveFwiKTtcbiAgICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZShgZGF0YS10b2RvLWxpc3RgLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYxLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS50aXRsZX1gO1xuICAgICAgICAgICAgZGl2MS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tMVwiKTtcbiAgICAgICAgICAgIGRpdjEuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG8tbGlzdGAsYCR7dG9kb0xpc3ROb31gKTtcbiAgICAgICAgICAgIGRpdjEuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG9gLGAke2l9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRpdjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2Mi50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbaV0uZHVlRGF0ZX1gO1xuICAgICAgICAgICAgZGl2Mi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tMlwiKTtcbiAgICAgICAgICAgIGRpdjIuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG8tbGlzdGAsYCR7dG9kb0xpc3ROb31gKTtcbiAgICAgICAgICAgIGRpdjIuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG9gLGAke2l9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRpdjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2My50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbaV0ucHJpb3JpdHl9YDtcbiAgICAgICAgICAgIGRpdjMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX190YWJsZV9fY29sdW1uLTNcIik7XG4gICAgICAgICAgICBkaXYzLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvLWxpc3RgLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgICAgICAgICBkaXYzLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHtpfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChsaSk7IFxuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2MCk7XG4gICAgICAgICAgICBkaXYwLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGRpdjEpO1xuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2Mik7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkaXYzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhYmxlXCIpO1xufTtcblxuLy8gcmVtb3ZlIGVsZW1lbnRzXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50cyhlbCkge1xuICAgIGNvbnN0IHRvZG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbCk7XG5cbiAgICB0b2Rvcy5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5yZW1vdmUoKTtcbiAgICB9KTtcbn07XG5cbi8vIHJlZnJlc2ggbWFpbiB0aXRsZVxuZnVuY3Rpb24gYWRkTWFpblRpdGxlKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8pIHtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fdG9wX190aXRsZVwiKVswXTtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10ubmFtZX1gO1xufTtcblxuLy8gbW9kaWZ5IGRlbGV0ZSBidXR0b24gKHNob3cvaGlkZSwgYWRkIGRhdGEgdmFsdWUpXG5mdW5jdGlvbiBtb2RpZnlEZWxldGVCdG4odG9kb0xpc3RObykge1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fZGVsZXRlXCIpWzBdO1xuICAgIFxuICAgIGlmICh0b2RvTGlzdE5vID09IDApIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluX19kZWxldGVcIilbMF0uY2xhc3NMaXN0LmFkZChcImRpc3BsYXktbm9uZVwiKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluX19kZWxldGVcIilbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS10b2RvLWxpc3RcIixgJHt0b2RvTGlzdE5vfWApO1xuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX2RlbGV0ZVwiKVswXS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzcGxheS1ub25lXCIpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX2RlbGV0ZVwiKVswXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgfTtcbn07XG5cbi8vIHRvZ2dsZSB0b2RvIGZpbmlzaGVkL3VuZmluaXNoZWRcbmZ1bmN0aW9uIHRvZ2dsZUZpbmlzaGVkKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8sIHRvZG9Obykge1xuICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX2NoZWNrYm94XCIpW3RvZG9Ob107XG4gICAgY29uc3QgbWFpblRhYmxlUm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX3RhYmxlX19yb3dcIilbdG9kb05vXTtcblxuICAgIGlmICh0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW3RvZG9Ob10uZmluaXNoZWQgPT0gZmFsc2UpIHtcbiAgICAgICAgdG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1t0b2RvTm9dLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBlbHNlIGlmICh0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW3RvZG9Ob10uZmluaXNoZWQgPT0gdHJ1ZSkge1xuICAgICAgICB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW3RvZG9Ob10uZmluaXNoZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmVmcmVzaE1haW4odG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObyk7XG59O1xuXG5leHBvcnQge1xuICAgIHJlZnJlc2hBbGwsXG4gICAgdG9nZ2xlRmluaXNoZWRcbn07IiwiaW1wb3J0IHsgcmVmcmVzaEFsbCwgdG9nZ2xlRmluaXNoZWQgfSBmcm9tIFwiLi9kb21cIjtcblxuLy8gY2xhc3MgZm9yIHRvZG8tbGlzdHNcbmNsYXNzIFRvZG9MaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy50b2RvcyA9IFtdO1xuICAgICAgdG9kb0xpc3RBcnJheS5wdXNoKHRoaXMpOyAvLyBwdXNoIGFsbCB0aGUgaW5zdGFuY2VzIGludG8gc2FtZSBhcnJheVxuICAgIH07XG4gIH07XG5cbi8vIGNyZWF0ZSBhcnJheSBmb3IgdG9kby1saXN0IG9iamVjdHNcbmNvbnN0IHRvZG9MaXN0QXJyYXkgPSBbXTtcblxuLy8gY3JlYXRlIHRvZG8gbGlzdHNcbmNvbnN0IGRlZmF1bHRMaXN0ID0gbmV3IFRvZG9MaXN0KFwiRGVmYXVsdCBKU1wiKTtcbmNvbnN0IHNlY29uZExpc3QgPSBuZXcgVG9kb0xpc3QoXCJKUyBsaXN0IDJcIik7XG5cbi8vIGNsYXNzIGZvciB0b2RvJ3NcbmNsYXNzIFRvZG8ge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG5vdGVzLCB0b2RvTGlzdE5vKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMubm90ZXMgPSBub3Rlc1xuICAgICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3MucHVzaCh0aGlzKTtcbiAgICB9O1xufTtcblxuLy8gY3JlYXRlIHNvbWUgdG9kbyBvYmplY3RzXG5jb25zdCB0b2RvMSAgPSBuZXcgVG9kbyhcIlRpdGxlIDFcIiwgXCJEZXNjcmlwdGlvblwiLCBcIkR1ZSBkYXRlXCIsIFwiUHJpb3JpdHlcIiwgXCJOb3Rlc1wiLCAwKTtcbmNvbnN0IHRvZG8yICA9IG5ldyBUb2RvKFwiVGl0bGUgMlwiLCBcIkRlc2NyaXB0aW9uIDJcIiwgXCJEdWUgZGF0ZSAyXCIsIFwiUHJpb3JpdHkgMlwiLCBcIk5vdGVzIDJcIiwgMCk7XG5jb25zdCB0b2RvMyAgPSBuZXcgVG9kbyhcIlRpdGxlIDNcIiwgXCJEZXNjcmlwdGlvbiAzXCIsIFwiRHVlIGRhdGUgM1wiLCBcIlByaW9yaXR5IDNcIiwgXCJOb3RlcyAzXCIsIDEpO1xuXG4vLyBleGVjdXRlIHdoZW4gYnJvd3NlciBsb2Fkc1xud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgMCk7XG59O1xuXG4vLyBleGVjdXRlIHdoZW4gdG9kbyBsaXN0IGl0ZW0gaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm5hdl9fdG9kby1saXN0c1wiKVswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSBcIkxJXCIpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiKTtcbiAgICAgICAgcmVmcmVzaEFsbCh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG59KTtcblxuLy8gZXhlY3V0ZSB3aGVuIGRlbGV0ZSBidXR0b24gaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX2RlbGV0ZVwiKVswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiKTtcbiAgICBpZiAoY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10ubmFtZX1gKSkge1xuICAgICAgICB0b2RvTGlzdEFycmF5LnNwbGljZSh0b2RvTGlzdE5vKTtcbiAgICAgICAgcmVmcmVzaEFsbCh0b2RvTGlzdEFycmF5LCAwKTtcbiAgICAgICAgfTtcbn0pO1xuXG4vLyBleGVjdXRlIHdoZW4gY2hlY2tib3ggaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX3RhYmxlXCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCl7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT0gXCJtYWluX19jaGVja2JveFwiKXtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5hdHRyaWJ1dGVzW1wiZGF0YS10b2RvLWxpc3RcIl0udmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG9ObyA9IGV2ZW50LnRhcmdldC5hdHRyaWJ1dGVzW1wiZGF0YS10b2RvXCJdLnZhbHVlO1xuXG4gICAgICAgIHRvZ2dsZUZpbmlzaGVkKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8sIHRvZG9Obyk7XG4gICAgIH1cbiB9KTsiXSwibmFtZXMiOlsicmVmcmVzaEFsbCIsInRvZG9MaXN0QXJyYXkiLCJ0b2RvTGlzdE5vIiwicGFyZW50RWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbm5lckhUTUwiLCJpIiwibGVuZ3RoIiwiY2hpbGRFbCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzdHlsZSIsImZvbnRXZWlnaHQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUJ0biIsInJlZnJlc2hOYXYiLCJyZWZyZXNoTWFpbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm1vZGlmeURlbGV0ZUJ0biIsInRleHQiLCJjbGFzc05hbWUiLCJwYXJlbnQiLCJidG4iLCJyZW1vdmVFbGVtZW50cyIsImFkZE1haW5UaXRsZSIsInRvZG9zIiwiZmluaXNoZWQiLCJ0YWJsZSIsImxpIiwiZGl2MCIsImNoZWNrYm94IiwiZGl2MSIsInRpdGxlIiwiZGl2MiIsImR1ZURhdGUiLCJkaXYzIiwicHJpb3JpdHkiLCJzb21lIiwiZSIsImdldEVsZW1lbnRCeUlkIiwiZWwiLCJmb3JFYWNoIiwiVG9kb0xpc3QiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJwdXNoIiwiVG9kbyIsImRlc2NyaXB0aW9uIiwibm90ZXMiLCJ3aW5kb3ciLCJvbmxvYWQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJjb25maXJtIiwic3BsaWNlIiwidmFsdWUiLCJhdHRyaWJ1dGVzIiwidG9kb05vIiwidG9nZ2xlRmluaXNoZWQiXSwic291cmNlUm9vdCI6IiJ9