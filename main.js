(()=>{"use strict";function t(t,n){!function(t,n){const o=document.querySelectorAll(".nav__todo-lists")[0];o.querySelectorAll(".nav__todo-lists__li"),o.innerHTML="";for(var s=0;s<t.length;s++){const e=document.createElement("li");e.setAttribute("class","nav__todo-lists__li"),e.setAttribute("data-todo-list",`${s}`),e.textContent=`${t[s].name}`,t[s]==t[n]&&(e.style.fontWeight="bold"),o.appendChild(e)}e("Add new","nav__add-new",o)}(t,n),function(t,e){document.querySelectorAll(".main__table__row").forEach((t=>{t.remove()})),function(t,e){document.querySelectorAll(".main__top__title")[0].textContent=`${t[e].name}`}(t,e);for(var n=0;n<t[e].todos.length;n++){const o=document.querySelectorAll(".main__table")[0],s=document.createElement("li");s.setAttribute("class","main__table__row");const i=document.createElement("div");i.setAttribute("class","main__table__column-0");const a=document.createElement("img");a.setAttribute("src","img/checkbox-blank.svg"),a.setAttribute("class","main__checkbox"),a.setAttribute("data-todo",`${n}`);const l=document.createElement("div");l.textContent=`${t[e].todos[n].title}`,l.setAttribute("class","main__table__column-1"),l.setAttribute("data-todo-list",`${e}`),l.setAttribute("data-todo",`${n}`);const c=document.createElement("div");c.textContent=`${t[e].todos[n].dueDate}`,c.setAttribute("class","main__table__column-2"),c.setAttribute("data-todo-list",`${e}`),c.setAttribute("data-todo",`${n}`);const d=document.createElement("div");d.textContent=`${t[e].todos[n].priority}`,d.setAttribute("class","main__table__column-3"),d.setAttribute("data-todo-list",`${e}`),d.setAttribute("data-todo",`${n}`),o.appendChild(s),s.appendChild(i),i.appendChild(a),s.appendChild(l),s.appendChild(c),s.appendChild(d)}document.getElementById("table")}(t,n),function(t){document.querySelectorAll(".main__delete")[0],0==t?(document.querySelectorAll(".main__delete")[0].classList.add("display-none"),document.querySelectorAll(".main__delete")[0].setAttribute("data-todo-list",`${t}`)):(document.querySelectorAll(".main__delete")[0].classList.remove("display-none"),document.querySelectorAll(".main__delete")[0].setAttribute("data-todo-list",`${t}`))}(n)}function e(t,n,o){const s=document.createElement("button");return s.setAttribute("class",n),s.textContent=`${t}`,o.appendChild(s),e}class n{constructor(t){this.name=t,this.todos=[],o.push(this)}}const o=[];new n("Default JS"),new n("JS list 2");class s{constructor(t,e,n,s,i,a){this.title=t,this.description=e,this.dueDate=n,this.priority=s,this.notes=i,o[a].todos.push(this)}}new s("Title 1","Description","Due date","Priority","Notes",0),new s("Title 2","Description 2","Due date 2","Priority 2","Notes 2",0),new s("Title 3","Description 3","Due date 3","Priority 3","Notes 3",1),window.onload=function(){t(o,0)},document.getElementsByClassName("nav__todo-lists")[0].addEventListener("click",(e=>{if("LI"==e.target.nodeName){const n=e.target.getAttribute("data-todo-list");t(o,n)}})),document.getElementsByClassName("main__delete")[0].addEventListener("click",(e=>{const n=e.target.getAttribute("data-todo-list");confirm(`Are you sure you want to delete ${o[n].name}`)&&(o.splice(n),t(o,0))})),document.getElementsByClassName("main__table")[0].addEventListener("click",(function(t){"main__checkbox"==t.target.classList.value&&function(t){const e=document.getElementsByClassName("main__checkbox")[t],n=document.getElementsByClassName("main__table__row")[t];n.classList.contains("main__table__row--finished")?(n.classList.remove("main__table__row--finished"),e.src="img/checkbox-blank.svg"):n.classList.contains("main__table__row--finished")||(n.classList.add("main__table__row--finished"),e.src="img/checkbox.svg")}(t.target.attributes["data-todo"].value)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdDLEVBQWVDLEVBQzlCLENBSUEsSUFJSkUsU0FBU2dELHVCQUF1QixnQkFBZ0IsR0FBR0MsaUJBQWlCLFNBQVVDLElBQzFFLE1BQU1wRCxFQUFhb0QsRUFBTUMsT0FBT0UsYUFBYSxrQkFDekNDLFFBQVEsbUNBQW1DekQsRUFBY0MsR0FBWVcsVUFDckVaLEVBQWMwRCxPQUFPekQsR0FDckJGLEVBQVdDLEVBQWUsR0FDMUIsSUFJUkcsU0FBU2dELHVCQUF1QixlQUFlLEdBQUdDLGlCQUFpQixTQUFRLFNBQVNDLEdBQzdDLGtCQUFoQ0EsRUFBTUMsT0FBT25CLFVBQVV3QixPRDBEOUIsU0FBd0IxRCxHQUNwQixNQUFNeUIsRUFBV3ZCLFNBQVNnRCx1QkFBdUIsa0JBQWtCbEQsR0FDN0QyRCxFQUFlekQsU0FBU2dELHVCQUF1QixvQkFBb0JsRCxHQUV0RTJELEVBQWF6QixVQUFVMEIsU0FBUywrQkFDL0JELEVBQWF6QixVQUFVZixPQUFPLDhCQUM5Qk0sRUFBU29DLElBQU0sMEJBR1ZGLEVBQWF6QixVQUFVMEIsU0FBUyxnQ0FDckNELEVBQWF6QixVQUFVQyxJQUFJLDhCQUMzQlYsRUFBU29DLElBQU0sbUJBRXZCLENDckVRQyxDQURtQlYsRUFBTUMsT0FBT1UsV0FBVyxhQUFhTCxNQUcvRCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbi8vIHJlZnJlc2ggYWxsIGJhc2VkIG9uIHRvZG8gbGlzdHMgYW5kIHRvZG9zXG5mdW5jdGlvbiByZWZyZXNoQWxsKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8pIHtcbiAgICByZWZyZXNoTmF2KHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8pXG4gICAgcmVmcmVzaE1haW4odG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObyk7XG4gICAgbW9kaWZ5RGVsZXRlQnRuKHRvZG9MaXN0Tm8pO1xuICAgIC8vIHNldFVwTWFpbkJ1dHRvbnModG9kb0xpc3RObyk7XG59O1xuXG4vLyByZWZyZXNoIG5hdlxuZnVuY3Rpb24gcmVmcmVzaE5hdih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKSB7XG4gICAgY29uc3QgcGFyZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9fdG9kby1saXN0c1wiKVswXTtcbiAgICBjb25zdCBjaGlsZEVsID0gcGFyZW50RWwucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX3RvZG8tbGlzdHNfX2xpXCIpXG5cbiAgICBwYXJlbnRFbC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2RvTGlzdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGNoaWxkRWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuYXZfX3RvZG8tbGlzdHNfX2xpXCIpO1xuICAgICAgICBjaGlsZEVsLnNldEF0dHJpYnV0ZShcImRhdGEtdG9kby1saXN0XCIsYCR7aX1gKTtcbiAgICAgICAgY2hpbGRFbC50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbaV0ubmFtZX1gO1xuXG4gICAgICAgIGlmICh0b2RvTGlzdEFycmF5W2ldID09IHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10pIHtcbiAgICAgICAgICAgIGNoaWxkRWwuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKGNoaWxkRWwpO1xuICAgIH07XG4gICAgXG5jcmVhdGVCdG4oXCJBZGQgbmV3XCIsIFwibmF2X19hZGQtbmV3XCIsIHBhcmVudEVsKVxufTtcblxuLy8gY3JlYXRlIGJ1dHRvbiBcbmZ1bmN0aW9uIGNyZWF0ZUJ0bih0ZXh0LCBjbGFzc05hbWUsIHBhcmVudCkge1xuICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnRuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNsYXNzTmFtZSk7XG4gICAgYnRuLnRleHRDb250ZW50ID0gYCR7dGV4dH1gO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChidG4pO1xuICAgIFxuICAgIHJldHVybiBjcmVhdGVCdG47XG59O1xuXG4vLyBjcmVhdGUgdGFibGUgZnJvbSB0b2RvXG5mdW5jdGlvbiByZWZyZXNoTWFpbih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKSB7XG4gICAgcmVtb3ZlRWxlbWVudHMoXCIubWFpbl9fdGFibGVfX3Jvd1wiKTtcbiAgICBhZGRNYWluVGl0bGUodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObylcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fdGFibGVcIilbMF07IFxuXG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19yb3dcIilcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRpdjAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXYwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fdGFibGVfX2NvbHVtbi0wXCIpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJpbWcvY2hlY2tib3gtYmxhbmsuc3ZnXCIpO1xuICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2NoZWNrYm94XCIpO1xuICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcblxuICAgICAgICBjb25zdCBkaXYxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2MS50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbaV0udGl0bGV9YDtcbiAgICAgICAgZGl2MS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tMVwiKTtcbiAgICAgICAgZGl2MS5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kby1saXN0YCxgJHt0b2RvTGlzdE5vfWApO1xuICAgICAgICBkaXYxLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHtpfWApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGl2MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdjIudGV4dENvbnRlbnQgPSBgJHt0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW2ldLmR1ZURhdGV9YDtcbiAgICAgICAgZGl2Mi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tMlwiKTtcbiAgICAgICAgZGl2Mi5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kby1saXN0YCxgJHt0b2RvTGlzdE5vfWApO1xuICAgICAgICBkaXYyLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHtpfWApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGl2MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGRpdjMudGV4dENvbnRlbnQgPSBgJHt0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW2ldLnByaW9yaXR5fWA7XG4gICAgICAgIGRpdjMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX190YWJsZV9fY29sdW1uLTNcIik7XG4gICAgICAgIGRpdjMuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG8tbGlzdGAsYCR7dG9kb0xpc3ROb31gKTtcbiAgICAgICAgZGl2My5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2MCk7XG4gICAgICAgIGRpdjAuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICBsaS5hcHBlbmRDaGlsZChkaXYxKTtcbiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2Mik7XG4gICAgICAgIGxpLmFwcGVuZENoaWxkKGRpdjMpO1xuICAgIH07XG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhYmxlXCIpO1xufTtcblxuLy8gcmVtb3ZlIGVsZW1lbnRzXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50cyhlbCkge1xuICAgIGNvbnN0IHRvZG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbCk7XG5cbiAgICB0b2Rvcy5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5yZW1vdmUoKTtcbiAgICB9KTtcbn07XG5cbi8vIHJlZnJlc2ggbWFpbiB0aXRsZVxuZnVuY3Rpb24gYWRkTWFpblRpdGxlKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8pIHtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fdG9wX190aXRsZVwiKVswXTtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10ubmFtZX1gO1xufTtcblxuLy8gbW9kaWZ5IGRlbGV0ZSBidXR0b24gKHNob3cvaGlkZSwgYWRkIGRhdGEgdmFsdWUpXG5mdW5jdGlvbiBtb2RpZnlEZWxldGVCdG4odG9kb0xpc3RObykge1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fZGVsZXRlXCIpWzBdO1xuICAgIFxuICAgIGlmKHRvZG9MaXN0Tm8gPT0gMCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX2RlbGV0ZVwiKVswXS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1ub25lXCIpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX2RlbGV0ZVwiKVswXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fZGVsZXRlXCIpWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LW5vbmVcIik7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fZGVsZXRlXCIpWzBdLnNldEF0dHJpYnV0ZShcImRhdGEtdG9kby1saXN0XCIsYCR7dG9kb0xpc3ROb31gKTtcbiAgICB9O1xufTtcblxuLy8gdG9nZ2xlIHRvZG8gZmluaXNoZWQvdW5maW5pc2hlZFxuZnVuY3Rpb24gdG9nZ2xlRmluaXNoZWQodG9kb0xpc3RObykge1xuICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX2NoZWNrYm94XCIpW3RvZG9MaXN0Tm9dO1xuICAgIGNvbnN0IG1haW5UYWJsZVJvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluX190YWJsZV9fcm93XCIpW3RvZG9MaXN0Tm9dO1xuXG4gICAgaWYobWFpblRhYmxlUm93LmNsYXNzTGlzdC5jb250YWlucyhcIm1haW5fX3RhYmxlX19yb3ctLWZpbmlzaGVkXCIpKSB7XG4gICAgICAgIG1haW5UYWJsZVJvdy5jbGFzc0xpc3QucmVtb3ZlKFwibWFpbl9fdGFibGVfX3Jvdy0tZmluaXNoZWRcIik7XG4gICAgICAgIGNoZWNrYm94LnNyYyA9IFwiaW1nL2NoZWNrYm94LWJsYW5rLnN2Z1wiOyBcbiAgICAgICAgfVxuXG4gICAgZWxzZSBpZighbWFpblRhYmxlUm93LmNsYXNzTGlzdC5jb250YWlucyhcIm1haW5fX3RhYmxlX19yb3ctLWZpbmlzaGVkXCIpKSB7XG4gICAgICAgIG1haW5UYWJsZVJvdy5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFibGVfX3Jvdy0tZmluaXNoZWRcIik7XG4gICAgICAgIGNoZWNrYm94LnNyYyA9IFwiaW1nL2NoZWNrYm94LnN2Z1wiOyBcbiAgICB9O1xufTtcblxuLy8gZnVuY3Rpb24gc2hvd01vZGFsKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8pIHtcbi8vICAgICBjb25zb2xlLmxvZyhgdG9kb0xpc3RBcnJheSAke3RvZG9MaXN0QXJyYXl9LCB0b2RvTGlzdE5vJHt0b2RvTGlzdE5vfWApXG4vLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKVswXS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzcGxheS1ub25lXCIpO1xuLy8gfVxuXG5leHBvcnQge1xuICAgIHJlZnJlc2hBbGwsXG4gICAgdG9nZ2xlRmluaXNoZWRcbn07IiwiaW1wb3J0IHsgcmVmcmVzaEFsbCwgdG9nZ2xlRmluaXNoZWQgfSBmcm9tIFwiLi9kb21cIjtcblxuLy8gY2xhc3MgZm9yIHRvZG8tbGlzdHNcbmNsYXNzIFRvZG9MaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy50b2RvcyA9IFtdO1xuICAgICAgdG9kb0xpc3RBcnJheS5wdXNoKHRoaXMpOyAvLyBwdXNoIGFsbCB0aGUgaW5zdGFuY2VzIGludG8gc2FtZSBhcnJheVxuICAgIH07XG4gIH07XG5cbi8vIGNyZWF0ZSBhcnJheSBmb3IgdG9kby1saXN0IG9iamVjdHNcbmNvbnN0IHRvZG9MaXN0QXJyYXkgPSBbXTtcblxuLy8gY3JlYXRlIHRvZG8gbGlzdHNcbmNvbnN0IGRlZmF1bHRMaXN0ID0gbmV3IFRvZG9MaXN0KFwiRGVmYXVsdCBKU1wiKTtcbmNvbnN0IHNlY29uZExpc3QgPSBuZXcgVG9kb0xpc3QoXCJKUyBsaXN0IDJcIik7XG5cbi8vIGNsYXNzIGZvciB0b2RvJ3NcbmNsYXNzIFRvZG8ge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG5vdGVzLCB0b2RvTGlzdE5vKSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMubm90ZXMgPSBub3Rlc1xuICAgICAgICB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zLnB1c2godGhpcyk7XG4gICAgfTtcbn07XG5cbi8vIGNyZWF0ZSBzb21lIHRvZG8gb2JqZWN0c1xuY29uc3QgdG9kbzEgID0gbmV3IFRvZG8oXCJUaXRsZSAxXCIsIFwiRGVzY3JpcHRpb25cIiwgXCJEdWUgZGF0ZVwiLCBcIlByaW9yaXR5XCIsIFwiTm90ZXNcIiwgMCk7XG5jb25zdCB0b2RvMiAgPSBuZXcgVG9kbyhcIlRpdGxlIDJcIiwgXCJEZXNjcmlwdGlvbiAyXCIsIFwiRHVlIGRhdGUgMlwiLCBcIlByaW9yaXR5IDJcIiwgXCJOb3RlcyAyXCIsIDApO1xuY29uc3QgdG9kbzMgID0gbmV3IFRvZG8oXCJUaXRsZSAzXCIsIFwiRGVzY3JpcHRpb24gM1wiLCBcIkR1ZSBkYXRlIDNcIiwgXCJQcmlvcml0eSAzXCIsIFwiTm90ZXMgM1wiLCAxKTtcblxuLy8gZXhlY3V0ZSB3aGVuIGJyb3dzZXIgbG9hZHNcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICByZWZyZXNoQWxsKHRvZG9MaXN0QXJyYXksIDApO1xufTtcblxuLy8gZXhlY3V0ZSB3aGVuIHRvZG8gbGlzdCBpdGVtIGhhcyBiZWVuIGNsaWNrZWRcbmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuYXZfX3RvZG8tbGlzdHNcIilbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGlmKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSBcIkxJXCIpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiKTtcbiAgICAgICAgcmVmcmVzaEFsbCh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn0pO1xuXG4vLyBleGVjdXRlIHdoZW4gZGVsZXRlIGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkXG5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbl9fZGVsZXRlXCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB0b2RvTGlzdE5vID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtdG9kby1saXN0XCIpO1xuICAgIGlmIChjb25maXJtKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS5uYW1lfWApKSB7XG4gICAgICAgIHRvZG9MaXN0QXJyYXkuc3BsaWNlKHRvZG9MaXN0Tm8pO1xuICAgICAgICByZWZyZXNoQWxsKHRvZG9MaXN0QXJyYXksIDApO1xuICAgICAgICB9XG59KTtcblxuLy8gZXhlY3V0ZSB3aGVuIGNoZWNrYm94IGhhcyBiZWVuIGNsaWNrZWRcbmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluX190YWJsZVwiKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZXZlbnQpe1xuICAgIGlmKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT0gXCJtYWluX19jaGVja2JveFwiKXtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5hdHRyaWJ1dGVzW1wiZGF0YS10b2RvXCJdLnZhbHVlO1xuICAgICAgICB0b2dnbGVGaW5pc2hlZCh0b2RvTGlzdE5vKTtcbiAgICAgfVxuIH0pOyJdLCJuYW1lcyI6WyJyZWZyZXNoQWxsIiwidG9kb0xpc3RBcnJheSIsInRvZG9MaXN0Tm8iLCJwYXJlbnRFbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImlubmVySFRNTCIsImkiLCJsZW5ndGgiLCJjaGlsZEVsIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwibmFtZSIsInN0eWxlIiwiZm9udFdlaWdodCIsImFwcGVuZENoaWxkIiwiY3JlYXRlQnRuIiwicmVmcmVzaE5hdiIsImZvckVhY2giLCJlbCIsInJlbW92ZSIsImFkZE1haW5UaXRsZSIsInRvZG9zIiwidGFibGUiLCJsaSIsImRpdjAiLCJjaGVja2JveCIsImRpdjEiLCJ0aXRsZSIsImRpdjIiLCJkdWVEYXRlIiwiZGl2MyIsInByaW9yaXR5IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZWZyZXNoTWFpbiIsImNsYXNzTGlzdCIsImFkZCIsIm1vZGlmeURlbGV0ZUJ0biIsInRleHQiLCJjbGFzc05hbWUiLCJwYXJlbnQiLCJidG4iLCJUb2RvTGlzdCIsImNvbnN0cnVjdG9yIiwidGhpcyIsInB1c2giLCJUb2RvIiwiZGVzY3JpcHRpb24iLCJub3RlcyIsIndpbmRvdyIsIm9ubG9hZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJub2RlTmFtZSIsImdldEF0dHJpYnV0ZSIsImNvbmZpcm0iLCJzcGxpY2UiLCJ2YWx1ZSIsIm1haW5UYWJsZVJvdyIsImNvbnRhaW5zIiwic3JjIiwidG9nZ2xlRmluaXNoZWQiLCJhdHRyaWJ1dGVzIl0sInNvdXJjZVJvb3QiOiIifQ==