(()=>{"use strict";function t(t,o){!function(t,n){const o=document.querySelectorAll(".nav__todo-lists")[0];o.querySelectorAll(".nav__todo-lists__li"),o.innerHTML="";for(var a=0;a<t.length;a++){const e=document.createElement("li");e.setAttribute("class","nav__todo-lists__li"),e.setAttribute("data-todo-list",`${a}`),e.textContent=`${t[a].name}`,t[a]==t[n]&&(e.style.fontWeight="bold"),o.appendChild(e)}e("Add new","nav__add-new",o)}(t,o),n(t,o),function(t){document.querySelectorAll(".main__delete")[0],0==t?(document.querySelectorAll(".main__delete")[0].classList.add("display-none"),document.querySelectorAll(".main__delete")[0].setAttribute("data-todo-list",`${t}`)):(document.querySelectorAll(".main__delete")[0].classList.remove("display-none"),document.querySelectorAll(".main__delete")[0].setAttribute("data-todo-list",`${t}`))}(o)}function e(t,n,o){const a=document.createElement("button");return a.setAttribute("class",n),a.textContent=`${t}`,o.appendChild(a),e}function n(t,e){o(".main__table__row"),o(".main__table__title__finished"),function(t,e){document.querySelectorAll(".main__top__title")[0].textContent=`${t[e].name}`}(t,e);const n=document.querySelectorAll(".main__table")[0];n.setAttribute("data-todo-list",`${e}`);for(var a=0;a<t[e].todos.length;a++)if(0==t[e].todos[a].finished){const o=document.createElement("li");o.classList.add("main__table__row");const s=document.createElement("div");s.classList.add("main__table__column-0");const l=document.createElement("img");l.setAttribute("src","img/checkbox-blank.svg"),l.classList.add("main__checkbox"),l.setAttribute("data-todo",`${a}`);const d=document.createElement("div");d.textContent=`${t[e].todos[a].title}`,d.classList.add("main__table__column-1"),d.setAttribute("data-todo",`${a}`);const i=document.createElement("div");i.textContent=`${t[e].todos[a].dueDate}`,i.classList.add("main__table__column-2"),i.setAttribute("data-todo",`${a}`);const m=document.createElement("div");m.textContent=`${t[e].todos[a].priority}`,m.setAttribute("class","main__table__column-3"),m.setAttribute("data-todo",`${a}`),n.appendChild(o),o.appendChild(s),s.appendChild(l),o.appendChild(d),o.appendChild(i),o.appendChild(m)}if(t[e].todos.some((t=>1==t.finished))){const t=document.querySelectorAll(".main__table")[0],e=document.createElement("p");e.classList.add("main__table__title__finished"),e.textContent="Finished:",t.appendChild(e)}for(a=0;a<t[e].todos.length;a++)if(1==t[e].todos[a].finished){const n=document.querySelectorAll(".main__table")[0];n.setAttribute("data-todo-list",`${e}`);const o=document.createElement("li");o.setAttribute("class","main__table__row"),o.classList.add("main__table__row--finished");const s=document.createElement("div");s.setAttribute("class","main__table__column-0");const l=document.createElement("img");l.setAttribute("src","img/checkbox.svg"),l.setAttribute("class","main__checkbox"),l.setAttribute("data-todo",`${a}`);const d=document.createElement("div");d.textContent=`${t[e].todos[a].title}`,d.classList.add("main__table__column-1","pointer"),d.setAttribute("data-todo",`${a}`);const i=document.createElement("div");i.textContent=`${t[e].todos[a].dueDate}`,i.setAttribute("class","main__table__column-2"),i.setAttribute("data-todo",`${a}`);const m=document.createElement("div");m.textContent=`${t[e].todos[a].priority}`,m.setAttribute("class","main__table__column-3"),m.setAttribute("data-todo",`${a}`),n.appendChild(o),o.appendChild(s),s.appendChild(l),o.appendChild(d),o.appendChild(i),o.appendChild(m)}document.getElementById("table")}function o(t){document.querySelectorAll(t).forEach((t=>{t.remove()}))}function a(){document.getElementsByClassName("modal")[0].classList.add("display-none")}function s(){document.getElementsByClassName("modal--new")[0].classList.add("display-none"),document.getElementById("modal--new__form__title").value="",document.getElementById("modal--new__form__description").value="",document.getElementById("modal--new__form__due-date").value="",document.getElementById("modal--new__form__priority").value="",document.getElementById("modal--new__form__notes").value=""}document.getElementsByClassName("nav__clear-localstorage")[0].addEventListener("click",(function(t){confirm("Are you sure?")&&(localStorage.clear(),window.location.reload())}));class l{constructor(t){this.name=t,this.todos=[],d.push(this),localStorage.setItem("todoListArray",JSON.stringify(d))}}let d=[];null==JSON.parse(localStorage.getItem("todoListArray"))?(d[0]=new l("Default JS"),localStorage.setItem("todoListArray",JSON.stringify(d)),console.log("todoListArray not in localStorage"),console.log(d)):(d=JSON.parse(localStorage.getItem("todoListArray")),console.log("todoListArray in localStorage"),console.log(d));class i{constructor(t,e,n,o,a,s){this.title=t,this.description=e,this.dueDate=n,this.priority=o,this.notes=a,this.finished=!1,d[s].todos.push(this),localStorage.setItem("todoListArray",JSON.stringify(d))}}window.onload=function(){t(d,0)},document.getElementsByClassName("header__logo")[0].addEventListener("click",(function(e){t(d,0)})),document.getElementsByClassName("nav__todo-lists")[0].addEventListener("click",(e=>{if("LI"==e.target.nodeName){const n=e.target.getAttribute("data-todo-list");t(d,n)}})),document.getElementsByClassName("main__delete")[0].addEventListener("click",(e=>{const n=e.target.getAttribute("data-todo-list");confirm(`Are you sure you want to delete ${d[n].name}`)&&(d.splice(n),t(d,0))})),document.getElementsByClassName("main__table")[0].addEventListener("click",(function(t){if("main__checkbox"==t.target.classList.value){const e=document.getElementsByClassName("main__table")[0].getAttribute("data-todo-list"),o=t.target.attributes["data-todo"].value;!function(t,e,o){document.getElementsByClassName("main__checkbox")[o],document.getElementsByClassName("main__table__row")[o],0==t[e].todos[o].finished?t[e].todos[o].finished=!0:1==t[e].todos[o].finished&&(t[e].todos[o].finished=!1),n(t,e)}(d,e,o)}})),document.getElementsByClassName("main__table")[0].addEventListener("click",(function(t){if("main__table__column-1"==t.target.classList.value||"main__table__column-2"==t.target.classList.value||"main__table__column-3    "==t.target.classList.value){const e=document.getElementsByClassName("main__table")[0].getAttribute("data-todo-list"),n=t.target.attributes["data-todo"].value;!function(t,e,n){document.getElementsByClassName("modal")[0].classList.remove("display-none"),function(t,e,n){const o=document.getElementsByClassName("modal__window")[0];o.setAttribute("data-todo-list",`${e}`),o.setAttribute("data-todo",`${n}`);let a=document.getElementsByClassName("modal__window__title")[0],s=document.getElementsByClassName("modal__window__description")[0],l=document.getElementsByClassName("modal__window__due-date")[0],d=document.getElementsByClassName("modal__window__priority")[0],i=document.getElementsByClassName("modal__window__notes")[0];a.textContent=`${t[e].todos[n].title}`,s.textContent=`${t[e].todos[n].description}`,l.textContent=`${t[e].todos[n].dueDate}`,d.textContent=`${t[e].todos[n].priority}`,i.textContent=`${t[e].todos[n].notes}`}(t,e,n)}(d,e,n)}})),document.getElementsByClassName("modal__window__close")[0].addEventListener("click",(function(t){a()})),document.getElementsByClassName("modal")[0].addEventListener("click",(function(t){a()})),document.getElementsByClassName("modal__window")[0].addEventListener("click",(t=>t.stopPropagation())),document.getElementsByClassName("modal__window__delete-btn")[0].addEventListener("click",(function(t){const e=document.getElementsByClassName("modal__window")[0].getAttribute("data-todo-list"),o=document.getElementsByClassName("modal__window")[0].getAttribute("data-todo");confirm("Are you sure?")&&function(t,e,o){t[e].todos.splice(o,1),n(t,e),a()}(d,e,o)})),document.getElementsByClassName("main__new-task")[0].addEventListener("click",(function(t){document.getElementsByClassName("main__table")[0].getAttribute("data-todo-list"),document.getElementsByClassName("modal--new")[0].classList.remove("display-none")})),document.getElementsByClassName("modal--new__window__close")[0].addEventListener("click",(function(t){s()})),document.getElementsByClassName("modal--new")[0].addEventListener("click",(function(t){s()})),document.getElementsByClassName("modal--new__window")[0].addEventListener("click",(t=>t.stopPropagation())),document.getElementsByClassName("nav__todo-lists")[0].addEventListener("click",(function(e){if("nav__add-new"==e.target.classList.value){d[d.length]=new l(prompt("Name for Todo list?"));const e=d.length-1;t(d,e)}})),document.getElementsByClassName("modal--new__window__add")[0].addEventListener("click",(function(e){const n=document.getElementById("modal--new__form__title").value,o=document.getElementById("modal--new__form__description").value,a=document.getElementById("modal--new__form__due-date").value,l=document.getElementById("modal--new__form__priority").value,m=document.getElementById("modal--new__form__notes").value,c=document.getElementsByClassName("main__table")[0].getAttribute("data-todo-list");new i(n,o,a,l,m,c),t(d,c),s()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MkIsT0FBTyx3QkFDMUQsTUFBTUMsRUFBa0J0RixFQUFjTyxPQUFTLEVBQy9DUixFQUFXQyxFQUFlc0YsRUFDN0IsQ0FDSixJQUtBbkYsU0FBUzRDLHVCQUF1QiwyQkFBMkIsR0FBR0csaUJBQWlCLFNBQVMsU0FBU0MsR0FDOUYsTUFBTW9DLEVBQVlwRixTQUFTd0MsZUFBZSwyQkFBMkJNLE1BQy9EdUMsRUFBa0JyRixTQUFTd0MsZUFBZSxpQ0FBaUNNLE1BQzNFd0MsRUFBY3RGLFNBQVN3QyxlQUFlLDhCQUE4Qk0sTUFDcEV5QyxFQUFldkYsU0FBU3dDLGVBQWUsOEJBQThCTSxNQUNyRXNCLEVBQVFwRSxTQUFTd0MsZUFBZSwyQkFBMkJNLE1BRTNEaEQsRUFBYUUsU0FBUzRDLHVCQUF1QixlQUFlLEdBQUc0QixhQUFhLGtCQUVwRSxJQUFJTixFQUFLa0IsRUFBV0MsRUFBaUJDLEVBQWFDLEVBQWNuQixFQUFPdEUsR0FDckZGLEVBQVdDLEVBQWVDLEdBQzFCK0MsR0FFSixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVmcmVzaCBhbGwgYmFzZWQgb24gdG9kbyBsaXN0cyBhbmQgdG9kb3NcbmZ1bmN0aW9uIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObykge1xuICAgIHJlZnJlc2hOYXYodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObylcbiAgICByZWZyZXNoTWFpbih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKTtcbiAgICBtb2RpZnlEZWxldGVCdG4odG9kb0xpc3RObyk7XG59O1xuXG4vLyByZWZyZXNoIG5hdlxuZnVuY3Rpb24gcmVmcmVzaE5hdih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKSB7XG4gICAgY29uc3QgcGFyZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9fdG9kby1saXN0c1wiKVswXTtcbiAgICBjb25zdCBjaGlsZEVsID0gcGFyZW50RWwucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX3RvZG8tbGlzdHNfX2xpXCIpXG5cbiAgICBwYXJlbnRFbC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2RvTGlzdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIGNoaWxkRWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuYXZfX3RvZG8tbGlzdHNfX2xpXCIpO1xuICAgICAgICBjaGlsZEVsLnNldEF0dHJpYnV0ZShcImRhdGEtdG9kby1saXN0XCIsYCR7aX1gKTtcbiAgICAgICAgY2hpbGRFbC50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbaV0ubmFtZX1gO1xuXG4gICAgICAgIGlmICh0b2RvTGlzdEFycmF5W2ldID09IHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10pIHtcbiAgICAgICAgICAgIGNoaWxkRWwuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKGNoaWxkRWwpO1xuICAgIH07XG4gICAgXG4gICAgY3JlYXRlQnRuKFwiQWRkIG5ld1wiLCBcIm5hdl9fYWRkLW5ld1wiLCBwYXJlbnRFbClcbn07XG5cbi8vIGNyZWF0ZSBidXR0b24gXG5mdW5jdGlvbiBjcmVhdGVCdG4odGV4dCwgY2xhc3NOYW1lLCBwYXJlbnQpIHtcbiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGJ0bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBjbGFzc05hbWUpO1xuXG4gICAgYnRuLnRleHRDb250ZW50ID0gYCR7dGV4dH1gO1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChidG4pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZUJ0bjtcbn07XG5cbi8vIGNyZWF0ZSB0b2RvIHRhYmxlXG5mdW5jdGlvbiByZWZyZXNoTWFpbih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKSB7XG4gICAgcmVtb3ZlRWxlbWVudHMoXCIubWFpbl9fdGFibGVfX3Jvd1wiKTsgXG4gICAgcmVtb3ZlRWxlbWVudHMoXCIubWFpbl9fdGFibGVfX3RpdGxlX19maW5pc2hlZFwiKVxuICAgIGFkZE1haW5UaXRsZSh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKVxuXG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3RhYmxlXCIpWzBdOyBcbiAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kby1saXN0YCxgJHt0b2RvTGlzdE5vfWApO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIFxuICAgICAgICAvLyBpZiB0b2RvIGlzIG5vdCBmaW5pc2hlZFxuICAgICAgICBpZiAodG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS5maW5pc2hlZCA9PSBmYWxzZSkgeyBcblxuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFibGVfX3Jvd1wiKTtcblxuICAgICAgICAgICAgY29uc3QgZGl2MCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYwLmNsYXNzTGlzdC5hZGQoXCJtYWluX190YWJsZV9fY29sdW1uLTBcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImltZy9jaGVja2JveC1ibGFuay5zdmdcIik7XG4gICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKFwibWFpbl9fY2hlY2tib3hcIik7XG4gICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcblxuICAgICAgICAgICAgY29uc3QgZGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYxLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS50aXRsZX1gO1xuICAgICAgICAgICAgZGl2MS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFibGVfX2NvbHVtbi0xXCIpO1xuXG4gICAgICAgICAgICBkaXYxLnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHtpfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGRpdjIudGV4dENvbnRlbnQgPSBgJHt0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW2ldLmR1ZURhdGV9YDtcbiAgICAgICAgICAgIGRpdjIuY2xhc3NMaXN0LmFkZChcIm1haW5fX3RhYmxlX19jb2x1bW4tMlwiKTtcblxuICAgICAgICAgICAgZGl2Mi5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGl2MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYzLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS5wcmlvcml0eX1gO1xuICAgICAgICAgICAgZGl2My5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tM1wiKTtcbiAgICAgICAgICAgIGRpdjMuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG9gLGAke2l9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGRpdjApO1xuICAgICAgICAgICAgZGl2MC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkaXYxKTtcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGRpdjIpO1xuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2Myk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgLy8gaWYgb25lIG9yIG1vcmUgdG9kb3MgYXJlIGZpbmlzaGVkXG4gICAgaWYgKHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3Muc29tZShlID0+IGUuZmluaXNoZWQgPT0gdHJ1ZSkpIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3RhYmxlXCIpWzBdOyBcblxuICAgICAgICBjb25zdCBmaW5pc2hlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBmaW5pc2hlZC5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFibGVfX3RpdGxlX19maW5pc2hlZFwiKTtcbiAgICAgICAgZmluaXNoZWQudGV4dENvbnRlbnQgPSBcIkZpbmlzaGVkOlwiO1xuXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGZpbmlzaGVkKTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgLy8gaWYgdG9kbyBpcyBub3QgZmluaXNoZWRcbiAgICAgICAgaWYgKHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbaV0uZmluaXNoZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3RhYmxlXCIpWzBdO1xuICAgICAgICAgICAgdGFibGUuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG8tbGlzdGAsYCR7dG9kb0xpc3ROb31gKTtcblxuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19yb3dcIik7XG4gICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFibGVfX3Jvdy0tZmluaXNoZWRcIik7XG5cbiAgICAgICAgICAgIGNvbnN0IGRpdjAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2MC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tMFwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiaW1nL2NoZWNrYm94LnN2Z1wiKTtcbiAgICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fY2hlY2tib3hcIik7XG4gICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYxLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS50aXRsZX1gO1xuICAgICAgICAgICAgZGl2MS5jbGFzc0xpc3QuYWRkKFwibWFpbl9fdGFibGVfX2NvbHVtbi0xXCIsIFwicG9pbnRlclwiKTtcblxuICAgICAgICAgICAgZGl2MS5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGl2MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYyLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS5kdWVEYXRlfWA7XG4gICAgICAgICAgICBkaXYyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fdGFibGVfX2NvbHVtbi0yXCIpO1xuICAgICAgICAgICAgZGl2Mi5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kb2AsYCR7aX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGl2MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYzLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1tpXS5wcmlvcml0eX1gO1xuICAgICAgICAgICAgZGl2My5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX3RhYmxlX19jb2x1bW4tM1wiKTtcbiAgICAgICAgICAgIGRpdjMuc2V0QXR0cmlidXRlKGBkYXRhLXRvZG9gLGAke2l9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGxpKTsgXG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkaXYwKTtcbiAgICAgICAgICAgIGRpdjAuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZGl2MSk7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkaXYyKTtcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGRpdjMpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFibGVcIik7XG59O1xuXG4vLyByZW1vdmUgZWxlbWVudHNcbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRzKGVsKSB7XG4gICAgY29uc3QgdG9kb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKTtcblxuICAgIHRvZG9zLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnJlbW92ZSgpO1xuICAgIH0pO1xufTtcblxuLy8gcmVmcmVzaCBtYWluIHRpdGxlXG5mdW5jdGlvbiBhZGRNYWluVGl0bGUodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObykge1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluX190b3BfX3RpdGxlXCIpWzBdO1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS5uYW1lfWA7XG59O1xuXG4vLyBtb2RpZnkgZGVsZXRlIGJ1dHRvbiAoc2hvdy9oaWRlLCBhZGQgZGF0YSB2YWx1ZSlcbmZ1bmN0aW9uIG1vZGlmeURlbGV0ZUJ0bih0b2RvTGlzdE5vKSB7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluX19kZWxldGVcIilbMF07XG4gICAgXG4gICAgaWYgKHRvZG9MaXN0Tm8gPT0gMCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX2RlbGV0ZVwiKVswXS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1ub25lXCIpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX2RlbGV0ZVwiKVswXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiLGAke3RvZG9MaXN0Tm99YCk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fZGVsZXRlXCIpWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LW5vbmVcIik7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fZGVsZXRlXCIpWzBdLnNldEF0dHJpYnV0ZShcImRhdGEtdG9kby1saXN0XCIsYCR7dG9kb0xpc3ROb31gKTtcbiAgICB9O1xufTtcblxuLy8gdG9nZ2xlIHRvZG8gZmluaXNoZWQvdW5maW5pc2hlZFxuZnVuY3Rpb24gdG9nZ2xlRmluaXNoZWQodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObywgdG9kb05vKSB7XG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbl9fY2hlY2tib3hcIilbdG9kb05vXTtcbiAgICBjb25zdCBtYWluVGFibGVSb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbl9fdGFibGVfX3Jvd1wiKVt0b2RvTm9dO1xuXG4gICAgaWYgKHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbdG9kb05vXS5maW5pc2hlZCA9PSBmYWxzZSkge1xuICAgICAgICB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW3RvZG9Ob10uZmluaXNoZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGVsc2UgaWYgKHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbdG9kb05vXS5maW5pc2hlZCA9PSB0cnVlKSB7XG4gICAgICAgIHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbdG9kb05vXS5maW5pc2hlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICByZWZyZXNoTWFpbih0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKTtcbn07XG5cbi8vIG9wZW4gdG9kbyBkZXRhaWxzIHdpbmRvd1xuZnVuY3Rpb24gb3BlbkRldGFpbHModG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObywgdG9kb05vKSB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWxcIilbMF07XG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktbm9uZVwiKTtcblxuICAgIHJlZnJlc2hEZXRhaWxzKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8sIHRvZG9Obyk7XG59O1xuXG4vLyBhZGRzIGluZm8gZnJvbSB0b2RvIG9iamVjdCB0byBkZXRhaWxzIHdpbmRvd1xuZnVuY3Rpb24gcmVmcmVzaERldGFpbHModG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObywgdG9kb05vKSB7XG4gICAgY29uc3QgbW9kYWxXaW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWxfX3dpbmRvd1wiKVswXTtcbiAgICBtb2RhbFdpbmRvdy5zZXRBdHRyaWJ1dGUoYGRhdGEtdG9kby1saXN0YCxgJHt0b2RvTGlzdE5vfWApO1xuICAgIG1vZGFsV2luZG93LnNldEF0dHJpYnV0ZShgZGF0YS10b2RvYCxgJHt0b2RvTm99YCk7XG5cblxuICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtb2RhbF9fd2luZG93X190aXRsZVwiKVswXTtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWxfX3dpbmRvd19fZGVzY3JpcHRpb25cIilbMF07XG4gICAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWxfX3dpbmRvd19fZHVlLWRhdGVcIilbMF07XG4gICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsX193aW5kb3dfX3ByaW9yaXR5XCIpWzBdO1xuICAgIGxldCBub3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtb2RhbF9fd2luZG93X19ub3Rlc1wiKVswXTtcblxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1t0b2RvTm9dLnRpdGxlfWA7XG4gICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBgJHt0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zW3RvZG9Ob10uZGVzY3JpcHRpb259YDtcbiAgICBkdWVEYXRlLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1t0b2RvTm9dLmR1ZURhdGV9YDtcbiAgICBwcmlvcml0eS50ZXh0Q29udGVudCA9IGAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NbdG9kb05vXS5wcmlvcml0eX1gO1xuICAgIG5vdGVzLnRleHRDb250ZW50ID0gYCR7dG9kb0xpc3RBcnJheVt0b2RvTGlzdE5vXS50b2Rvc1t0b2RvTm9dLm5vdGVzfWA7XG59O1xuXG4vL2Nsb3NlcyBkZXRhaWxzIHdpbmRvd1xuZnVuY3Rpb24gY2xvc2VEZXRhaWxzKCkge1xuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsXCIpWzBdO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LW5vbmVcIik7XG59O1xuXG4vLyBkZWxldGUgdGFza1xuZnVuY3Rpb24gZGVsZXRlVGFzayh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vLCB0b2RvTm8pIHtcbiAgICBjb25zdCBhcnJheSA9IHRvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10udG9kb3NcbiAgICBhcnJheS5zcGxpY2UodG9kb05vLCAxKTtcblxuICAgIHJlZnJlc2hNYWluKHRvZG9MaXN0QXJyYXksIHRvZG9MaXN0Tm8pO1xuICAgIGNsb3NlRGV0YWlscygpO1xuXG59XG5cbi8vb3BlbnMgYWRkIG5ldyB3aW5kb3dcbmZ1bmN0aW9uIG9wZW5BZGROZXcoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWwtLW5ld1wiKVswXTtcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzcGxheS1ub25lXCIpO1xufVxuXG4vL2Nsb3NlcyBhZGQgbmV3IHdpbmRvd1xuZnVuY3Rpb24gY2xvc2VBZGROZXcoKSB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWwtLW5ld1wiKVswXTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1ub25lXCIpO1xuICAgIGNsZWFyRm9ybSgpO1xufVxuXG5mdW5jdGlvbiBjbGVhckZvcm0oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX190aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19kZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19kdWUtZGF0ZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19wcmlvcml0eVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19ub3Rlc1wiKS52YWx1ZSA9IFwiXCI7XG59XG5cbi8vIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHtcbi8vICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fdGl0bGVcIilcbi8vICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fZGVzY3JpcHRpb25cIilcbi8vICAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19kdWUtZGF0ZVwiKVxuLy8gICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19wcmlvcml0eVwiKVxuLy8gICAgIGNvbnN0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19ub3Rlc1wiKVxuXG4vLyAgICAgY29uc3QgZm9ybUFycmF5ID0gW3RpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG5vdGVzXVxuLy8gICAgIGNvbnN0IGZvcm1BcnJheVZhbHVlcyA9IFt0aXRsZS52YWx1ZSwgZGVzY3JpcHRpb24udmFsdWUsIGR1ZURhdGUudmFsdWUsIHByaW9yaXR5LnZhbHVlLCBub3Rlcy52YWx1ZV1cblxuLy8gICAgIGZvcm1BcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG5cbi8vICAgICBpZiAoZWwudmFsdWUgPT0gXCJcIikge1xuLy8gICAgICAgICBlbC5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIDJweCByZWRcIjtcbi8vICAgICB9O1xuLy8gfSk7XG5cbi8vICAgICBpZiAoZm9ybUFycmF5VmFsdWVzLmluY2x1ZGVzKFwiXCIpKSB7XG4vLyAgICAgICAgIGNvbnN0IG5vdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibm90ZVwiKVswXVxuLy8gICAgICAgICBub3RlLnRleHRDb250ZW50ID0gXCJGaWxsIGFsbCB0aGUgZmllbGRzXCI7XG5cbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgIH1cblxuLy8gICAgIGVsc2Uge1xuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICB9O1xuLy8gfTtcblxuLy8gZnVuY3Rpb24gY2xlYXJGb3JtVmFsaWRhdGlvbigpIHtcbi8vICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fdGl0bGVcIilcbi8vICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fZGVzY3JpcHRpb25cIilcbi8vICAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19kdWUtZGF0ZVwiKVxuLy8gICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19wcmlvcml0eVwiKVxuLy8gICAgIGNvbnN0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19ub3Rlc1wiKVxuXG4vLyAgICAgY29uc3QgZm9ybUFycmF5ID0gW3RpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG5vdGVzXVxuLy8gICAgIGZvcm1BcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG5cbi8vICAgICAgICAgZWwuc3R5bGUuYm9yZGVyID0gXCJzb2xpZCAycHggcmVkXCI7XG5cbi8vICAgICB9KTtcblxuLy8gICAgIGNvbnN0IG5vdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibm90ZVwiKVswXVxuLy8gICAgIG5vdGUudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4vLyB9XG5cbmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25hdl9fY2xlYXItbG9jYWxzdG9yYWdlJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlP1wiKSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG59KTtcblxuZXhwb3J0IHtcbiAgICByZWZyZXNoQWxsLFxuICAgIHRvZ2dsZUZpbmlzaGVkLFxuICAgIG9wZW5EZXRhaWxzLFxuICAgIGNsb3NlRGV0YWlscyxcbiAgICBvcGVuQWRkTmV3LFxuICAgIGNsb3NlQWRkTmV3LFxuICAgIGRlbGV0ZVRhc2tcbn07IiwiaW1wb3J0IHsgcmVmcmVzaEFsbCwgXG4gICAgdG9nZ2xlRmluaXNoZWQsIFxuICAgIG9wZW5EZXRhaWxzLCBcbiAgICBjbG9zZURldGFpbHMsIFxuICAgIG9wZW5BZGROZXcsIFxuICAgIGNsb3NlQWRkTmV3LFxuICAgIGRlbGV0ZVRhc2sgXG4gfSBmcm9tIFwiLi9kb21cIjtcblxuLy8gY2xhc3MgZm9yIHRvZG8tbGlzdHNcbmNsYXNzIFRvZG9MaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy50b2RvcyA9IFtdO1xuICAgICAgdG9kb0xpc3RBcnJheS5wdXNoKHRoaXMpOyAvLyBwdXNoIGFsbCB0aGUgaW5zdGFuY2VzIGludG8gc2FtZSBhcnJheVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9MaXN0QXJyYXknLCBKU09OLnN0cmluZ2lmeSh0b2RvTGlzdEFycmF5KSk7XG4gICAgfTtcbiAgfTtcblxuLy8gY3JlYXRlIGFycmF5IGZvciB0b2RvLWxpc3Qgb2JqZWN0c1xubGV0IHRvZG9MaXN0QXJyYXkgPSBbXTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gaWYgdG9kb0xpc3RBcnJheSBleGlzdHMgaW4gbG9jYWxzdG9yYWdlLCB1c2UgaXRcblxuaWYoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb0xpc3RBcnJheScpKSA9PSBudWxsKSB7XG4gICAgdG9kb0xpc3RBcnJheVswXSA9IG5ldyBUb2RvTGlzdChcIkRlZmF1bHQgSlNcIik7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9MaXN0QXJyYXknLCBKU09OLnN0cmluZ2lmeSh0b2RvTGlzdEFycmF5KSk7XG4gICAgY29uc29sZS5sb2coXCJ0b2RvTGlzdEFycmF5IG5vdCBpbiBsb2NhbFN0b3JhZ2VcIilcbiAgICBjb25zb2xlLmxvZyh0b2RvTGlzdEFycmF5KVxufVxuXG5lbHNlIHtcbiAgICB0b2RvTGlzdEFycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb0xpc3RBcnJheScpKVxuICAgIGNvbnNvbGUubG9nKFwidG9kb0xpc3RBcnJheSBpbiBsb2NhbFN0b3JhZ2VcIilcbiAgICBjb25zb2xlLmxvZyh0b2RvTGlzdEFycmF5KVxufTtcblxuXG5cbi8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvTGlzdEFycmF5JywgSlNPTi5zdHJpbmdpZnkodG9kb0xpc3RBcnJheSkpO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLy8gY3JlYXRlIHRvZG8gbGlzdHNcbi8vIHRvZG9MaXN0QXJyYXlbMF0gPSBuZXcgVG9kb0xpc3QoXCJEZWZhdWx0IEpTXCIpO1xuLy8gdG9kb0xpc3RBcnJheVsxXSA9IG5ldyBUb2RvTGlzdChcIkpTIGxpc3QgMlwiKTtcblxuXG4vLyBjbGFzcyBmb3IgdG9kbydzXG5jbGFzcyBUb2RvIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBub3RlcywgdG9kb0xpc3RObykge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLm5vdGVzID0gbm90ZXNcbiAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0b2RvTGlzdEFycmF5W3RvZG9MaXN0Tm9dLnRvZG9zLnB1c2godGhpcyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvTGlzdEFycmF5JywgSlNPTi5zdHJpbmdpZnkodG9kb0xpc3RBcnJheSkpO1xuICAgIH07XG5cbn07XG5cbi8vIGNyZWF0ZSBzb21lIHRvZG8gb2JqZWN0c1xuLy8gY29uc3QgdG9kbzEgID0gbmV3IFRvZG8oXCJUaXRsZSAxXCIsIFwiRGVzY3JpcHRpb25cIiwgXCJEdWUgZGF0ZVwiLCBcIlByaW9yaXR5XCIsIFwiTm90ZXNcIiwgMCk7XG4vLyBjb25zdCB0b2RvMiAgPSBuZXcgVG9kbyhcIlRpdGxlIDJcIiwgXCJEZXNjcmlwdGlvbiAyXCIsIFwiRHVlIGRhdGUgMlwiLCBcIlByaW9yaXR5IDJcIiwgXCJOb3RlcyAyXCIsIDApO1xuLy8gY29uc3QgdG9kbzMgID0gbmV3IFRvZG8oXCJUaXRsZSAzXCIsIFwiRGVzY3JpcHRpb24gM1wiLCBcIkR1ZSBkYXRlIDNcIiwgXCJQcmlvcml0eSAzXCIsIFwiTm90ZXMgM1wiLCAxKTtcblxuLy8gZXhlY3V0ZSB3aGVuIGJyb3dzZXIgbG9hZHNcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICByZWZyZXNoQWxsKHRvZG9MaXN0QXJyYXksIDApO1xufTtcblxuLy8gZXhlY3V0ZSB3aGVuIHNpdGUgbG9nbyBoYXMgYmVlbiBjbGlja2VkXG5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaGVhZGVyX19sb2dvXCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkge1xuICAgIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgMCk7XG59KTtcblxuXG4vLyBleGVjdXRlIHdoZW4gdG9kbyBsaXN0IGl0ZW0gaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm5hdl9fdG9kby1saXN0c1wiKVswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PSBcIkxJXCIpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiKTtcbiAgICAgICAgcmVmcmVzaEFsbCh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG59KTtcblxuLy8gZXhlY3V0ZSB3aGVuIGRlbGV0ZSBidXR0b24gaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX2RlbGV0ZVwiKVswXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdG9kb0xpc3RObyA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZG8tbGlzdFwiKTtcbiAgICBpZiAoY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke3RvZG9MaXN0QXJyYXlbdG9kb0xpc3ROb10ubmFtZX1gKSkge1xuICAgICAgICB0b2RvTGlzdEFycmF5LnNwbGljZSh0b2RvTGlzdE5vKTtcbiAgICAgICAgcmVmcmVzaEFsbCh0b2RvTGlzdEFycmF5LCAwKTtcbiAgICAgICAgfTtcbn0pO1xuXG4vLyBleGVjdXRlIHdoZW4gY2hlY2tib3ggaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX3RhYmxlXCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09IFwibWFpbl9fY2hlY2tib3hcIil7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0Tm8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbl9fdGFibGVcIilbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZG8tbGlzdCcpO1xuICAgICAgICBjb25zdCB0b2RvTm8gPSBldmVudC50YXJnZXQuYXR0cmlidXRlc1tcImRhdGEtdG9kb1wiXS52YWx1ZTtcblxuICAgICAgICB0b2dnbGVGaW5pc2hlZCh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vLCB0b2RvTm8pO1xuICAgICB9XG4gfSk7XG5cbi8vIGV4ZWN1dGUgd2hlbiB0b2RvIGhhcyBiZWVuIGNsaWNrZWRcbmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluX190YWJsZVwiKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PSBcIm1haW5fX3RhYmxlX19jb2x1bW4tMVwiIHx8IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT0gXCJtYWluX190YWJsZV9fY29sdW1uLTJcIiB8fCBldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09IFwibWFpbl9fdGFibGVfX2NvbHVtbi0zICAgIFwiKXtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RObyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluX190YWJsZVwiKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9kby1saXN0Jyk7XG4gICAgICAgIGNvbnN0IHRvZG9ObyA9IGV2ZW50LnRhcmdldC5hdHRyaWJ1dGVzW1wiZGF0YS10b2RvXCJdLnZhbHVlO1xuICAgICAgICBvcGVuRGV0YWlscyh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vLCB0b2RvTm8pO1xuICAgIH07XG4gfSk7XG5cbi8vIGV4ZWN1dGUgd2hlbiBYIGhhcyBiZWVuIGNsaWNrZWQgKGRldGFpbHMgd2luZG93KVxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsX193aW5kb3dfX2Nsb3NlXCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkge1xuICAgIGNsb3NlRGV0YWlscygpO1xufSk7XG5cbi8vIGV4ZWN1dGUgd2hlbiBtb2RhbCBiYWNrZ3JvdW5kIGhhcyBiZWVuIGNsaWNrZWQgKGRldGFpbHMgd2luZG93KVxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY2xvc2VEZXRhaWxzKCk7XG59KTtcblxuLy8gdGhpcyBpcyBuZWVkZWQsIG90aGVyd2lzZSBjbGlja2luZyBtb2RhbCBleGVjdXRlcyBhbHNvIHdoZW4gY2xpY2tpbmcgaXRzIGNoaWxkIGVsZW1lbnRzIChkZXRhaWxzIHdpbmRvdylcbmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vZGFsX193aW5kb3cnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpKTtcblxuXG5cbi8vIGRlbGV0ZSB0b2RvXG5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbF9fd2luZG93X19kZWxldGUtYnRuJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGNvbnN0IHRvZG9MaXN0Tm8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWxfX3dpbmRvd1wiKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9kby1saXN0Jyk7XG4gICAgY29uc3QgdG9kb05vID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsX193aW5kb3dcIilbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZG8nKTtcbiAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZT9cIikpIHtcbiAgICAgICAgZGVsZXRlVGFzayh0b2RvTGlzdEFycmF5LCB0b2RvTGlzdE5vLCB0b2RvTm8pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn0pO1xuXG5cblxuXG4vLyBleGVjdXRlIHdoZW4gbmV3IHRhc2sgaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX25ldy10YXNrXCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbihldmVudCkge1xuICAgIGNvbnN0IHRvZG9MaXN0Tm8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbl9fdGFibGVcIilbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZG8tbGlzdCcpO1xuICAgICAgICBvcGVuQWRkTmV3KHRvZG9MaXN0Tm8pO1xuIH0pO1xuXG4gLy8gZXhlY3V0ZSB3aGVuIFggaGFzIGJlZW4gY2xpY2tlZCAoYWRkIG5ldyB3aW5kb3cpXG5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibW9kYWwtLW5ld19fd2luZG93X19jbG9zZVwiKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBjbG9zZUFkZE5ldygpO1xufSk7XG5cbi8vIGV4ZWN1dGUgd2hlbiBtb2RhbCBiYWNrZ3JvdW5kIGhhcyBiZWVuIGNsaWNrZWQgKGFkZCBuZXcgd2luZG93KVxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtLW5ldycpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBjbG9zZUFkZE5ldygpO1xufSk7XG5cbi8vIHRoaXMgaXMgbmVlZGVkLCBvdGhlcndpc2UgY2xpY2tpbmcgbW9kYWwgZXhlY3V0ZXMgYWxzbyB3aGVuIGNsaWNraW5nIGl0cyBjaGlsZCBlbGVtZW50cyAoYWRkIG5ldyB3aW5kb3cpXG5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC0tbmV3X193aW5kb3cnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpKTtcblxuLy8gZXhlY3V0ZSB3aGVuIEFkZCBuZXcgaGFzIGJlZW4gY2xpY2tlZFxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm5hdl9fdG9kby1saXN0c1wiKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PSBcIm5hdl9fYWRkLW5ld1wiKSB7XG4gICAgICAgIHRvZG9MaXN0QXJyYXlbdG9kb0xpc3RBcnJheS5sZW5ndGhdID0gbmV3IFRvZG9MaXN0KHByb21wdChcIk5hbWUgZm9yIFRvZG8gbGlzdD9cIikpO1xuICAgICAgICBjb25zdCBsYXN0VG9kb0xpc3RObyA9ICh0b2RvTGlzdEFycmF5Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgbGFzdFRvZG9MaXN0Tm8pO1xuICAgICB9O1xuIH0pO1xuXG5cblxuLy8gIGV4ZWN1dGUgd2hlbiBBZGQgaXMgY2xpY2tlZCAoaW4gbW9kYWwpXG4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtLW5ld19fd2luZG93X19hZGQnKVswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgZm9ybVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX190aXRsZVwiKS52YWx1ZTtcbiAgICBjb25zdCBmb3JtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLS1uZXdfX2Zvcm1fX2Rlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IGZvcm1EdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19kdWUtZGF0ZVwiKS52YWx1ZTtcbiAgICBjb25zdCBmb3JtUHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLS1uZXdfX2Zvcm1fX3ByaW9yaXR5XCIpLnZhbHVlO1xuICAgIGNvbnN0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19ub3Rlc1wiKS52YWx1ZTtcblxuICAgIGNvbnN0IHRvZG9MaXN0Tm8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWFpbl9fdGFibGVcIilbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLXRvZG8tbGlzdCcpO1xuXG4gICAgY29uc3QgdG9kbyAgPSBuZXcgVG9kbyhmb3JtVGl0bGUsIGZvcm1EZXNjcmlwdGlvbiwgZm9ybUR1ZURhdGUsIGZvcm1Qcmlvcml0eSwgbm90ZXMsIHRvZG9MaXN0Tm8pO1xuICAgIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObyk7XG4gICAgY2xvc2VBZGROZXcoKTtcblxufSk7XG5cblxuXG5cbi8vIC8vICBleGVjdXRlIHdoZW4gQWRkIGlzIGNsaWNrZWQgKGluIG1vZGFsKVxuLy8gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vZGFsLS1uZXdfX3dpbmRvd19fYWRkJylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuLy8gICAgIGNvbnN0IGZvcm1UaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fdGl0bGVcIikudmFsdWU7XG4vLyAgICAgY29uc3QgZm9ybURlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19kZXNjcmlwdGlvblwiKS52YWx1ZTtcbi8vICAgICBjb25zdCBmb3JtRHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fZHVlLWRhdGVcIikudmFsdWU7XG4vLyAgICAgY29uc3QgZm9ybVByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC0tbmV3X19mb3JtX19wcmlvcml0eVwiKS52YWx1ZTtcbi8vICAgICBjb25zdCBub3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtLW5ld19fZm9ybV9fbm90ZXNcIikudmFsdWU7XG5cbi8vICAgICBjb25zdCB0b2RvTGlzdE5vID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1haW5fX3RhYmxlXCIpWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS10b2RvLWxpc3QnKTtcblxuLy8gICAgIGlmICh2YWxpZGF0ZUZvcm0oKSkge1xuXG4vLyAgICAgY29uc3QgdG9kbyAgPSBuZXcgVG9kbyhmb3JtVGl0bGUsIGZvcm1EZXNjcmlwdGlvbiwgZm9ybUR1ZURhdGUsIGZvcm1Qcmlvcml0eSwgbm90ZXMsIHRvZG9MaXN0Tm8pO1xuLy8gICAgIHJlZnJlc2hBbGwodG9kb0xpc3RBcnJheSwgdG9kb0xpc3RObyk7XG4vLyAgICAgY2xvc2VBZGROZXcoKTtcbi8vICAgICB9XG5cbi8vICAgICBlbHNlIHtcbi8vICAgICAgICAgcmV0dXJuO1xuLy8gICAgIH1cbi8vIH0pO1xuXG4vLyBtb2RhbC0tbmV3X19mb3JtX19pbnB1dFxuXG5cbi8vIGNvbnN0IGZvcm1JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vZGFsLS1uZXdfX2Zvcm1fX2lucHV0JylbMF07XG5cbi8vIGZvciAoY29uc3QgaW5wdXQgb2YgZm9ybUlucHV0KSB7XG4vLyAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXG4vLyAgICAgICAgIGNsZWFyRm9ybVZhbGlkYXRpb24oKTtcbi8vICAgfSk7XG4vLyB9XG5cblxuXG5cbi8vIC8vIFB1dCB0aGUgb2JqZWN0IGludG8gc3RvcmFnZVxuLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG8xJywgSlNPTi5zdHJpbmdpZnkodG9kbzEpKTtcblxuLy8gLy8gUmV0cmlldmUgdGhlIG9iamVjdCBmcm9tIHN0b3JhZ2Vcbi8vIHZhciByZXRyaWV2ZWRPYmplY3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kbzEnKTtcblxuLy8gY29uc29sZS5sb2coJ3RvZG8xOiAnLCBKU09OLnBhcnNlKHRvZG8xKSk7XG5cblxuXG4vLyBQdXQgdGhlIG9iamVjdCBpbnRvIHN0b3JhZ2VcblxuXG5cbi8vIGNvbnNvbGUubG9nKHRvZG9MaXN0QXJyYXkpXG4vLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb0xpc3RBcnJheUwnLCBKU09OLnN0cmluZ2lmeSh0b2RvTGlzdEFycmF5KSk7XG5cbi8vIHZhciB0b2RvTGlzdEFycmF5TCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9MaXN0QXJyYXknKSlcblxuLy8gY29uc29sZS5sb2codG9kb0xpc3RBcnJheUwpO1xuXG4vLyBjb25zb2xlLmxvZyh0b2RvTGlzdEFycmF5WzBdKVxuLy8gY29uc29sZS5sb2codG9kb0xpc3RBcnJheUxbMF0pXG5cblxuLy8gdG9kb0xpc3RBcnJheVswXS50b2Rvcy5wdXNoKFwidGVzdFwiKTtcblxuLy8gY29uc29sZS5sb2codG9kb0xpc3RBcnJheVswXSlcbi8vIGNvbnNvbGUubG9nKHRvZG9MaXN0QXJyYXlMWzBdKVxuXG5cblxuXG4iXSwibmFtZXMiOlsicmVmcmVzaEFsbCIsInRvZG9MaXN0QXJyYXkiLCJ0b2RvTGlzdE5vIiwicGFyZW50RWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbm5lckhUTUwiLCJpIiwibGVuZ3RoIiwiY2hpbGRFbCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzdHlsZSIsImZvbnRXZWlnaHQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUJ0biIsInJlZnJlc2hOYXYiLCJyZWZyZXNoTWFpbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm1vZGlmeURlbGV0ZUJ0biIsInRleHQiLCJjbGFzc05hbWUiLCJwYXJlbnQiLCJidG4iLCJyZW1vdmVFbGVtZW50cyIsImFkZE1haW5UaXRsZSIsInRhYmxlIiwidG9kb3MiLCJmaW5pc2hlZCIsImxpIiwiZGl2MCIsImNoZWNrYm94IiwiZGl2MSIsInRpdGxlIiwiZGl2MiIsImR1ZURhdGUiLCJkaXYzIiwicHJpb3JpdHkiLCJzb21lIiwiZSIsImdldEVsZW1lbnRCeUlkIiwiZWwiLCJmb3JFYWNoIiwiY2xvc2VEZXRhaWxzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNsb3NlQWRkTmV3IiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjb25maXJtIiwibG9jYWxTdG9yYWdlIiwiY2xlYXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIlRvZG9MaXN0IiwiY29uc3RydWN0b3IiLCJ0aGlzIiwicHVzaCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJnZXRJdGVtIiwiY29uc29sZSIsImxvZyIsIlRvZG8iLCJkZXNjcmlwdGlvbiIsIm5vdGVzIiwib25sb2FkIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpY2UiLCJ0b2RvTm8iLCJhdHRyaWJ1dGVzIiwidG9nZ2xlRmluaXNoZWQiLCJtb2RhbFdpbmRvdyIsInJlZnJlc2hEZXRhaWxzIiwib3BlbkRldGFpbHMiLCJzdG9wUHJvcGFnYXRpb24iLCJkZWxldGVUYXNrIiwicHJvbXB0IiwibGFzdFRvZG9MaXN0Tm8iLCJmb3JtVGl0bGUiLCJmb3JtRGVzY3JpcHRpb24iLCJmb3JtRHVlRGF0ZSIsImZvcm1Qcmlvcml0eSJdLCJzb3VyY2VSb290IjoiIn0=